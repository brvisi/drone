<!DOCTYPE html>
<!-- saved from url=(0057)http://www.righto.com/2009/07/secrets-of-arduino-pwm.html -->
<html class="v2 wf-play-n4-active wf-active" dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://www.google.com/2005/gml/b" xmlns:data="http://www.google.com/2005/gml/data" xmlns:expr="http://www.google.com/2005/gml/expr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="width=1100" name="viewport">

<script src="./Secrets of Arduino PWM_files/cb=gapi.loaded_2" async=""></script><script src="./Secrets of Arduino PWM_files/ca-pub-0159785530845184.js"></script><script src="./Secrets of Arduino PWM_files/cb=gapi.loaded_1" async=""></script><script src="./Secrets of Arduino PWM_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./Secrets of Arduino PWM_files/ga.js"></script><script src="./Secrets of Arduino PWM_files/webfont.js" type="text/javascript" async=""></script><script type="text/javascript">(function() { (function(){function c(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var h=a?new c(a.responseStart):new c;window.jstiming={Timer:c,load:h};if(a){var b=a.navigationStart,e=a.responseStart;0<b&&e>=b&&(window.jstiming.srt=e-b)}if(a){var d=window.jstiming.load;0<b&&e>=b&&(d.tick("_wtsrt",void 0,b),d.tick("wtsrt_",
"_wtsrt",e),d.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),d&&0<b&&(d.tick("_tbnd",void 0,window.chrome.csi().startE),d.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,d&&0<b&&(d.tick("_tbnd",void 0,window.external.startE),d.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(k){}})();window.tickAboveFold=function(c){var a=0;if(c.offsetParent){do a+=c.offsetTop;while(c=c.offsetParent)}c=a;750>=c&&window.jstiming.load.tick("aft")};var f=!1;function g(){f||(f=!0,window.jstiming.load.tick("firstScrollTime"))}window.addEventListener?window.addEventListener("scroll",g,!1):window.attachEvent("onscroll",g);
 })();</script>
<meta content="blogger" name="generator">
<link href="http://www.righto.com/favicon.ico" rel="icon" type="image/x-icon">
<link href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html" rel="canonical">
<link rel="alternate" type="application/atom+xml" title="Ken Shirriff&#39;s blog - Atom" href="http://www.righto.com/feeds/posts/default">
<link rel="alternate" type="application/rss+xml" title="Ken Shirriff&#39;s blog - RSS" href="http://www.righto.com/feeds/posts/default?alt=rss">
<link rel="service.post" type="application/atom+xml" title="Ken Shirriff&#39;s blog - Atom" href="https://www.blogger.com/feeds/6264947694886887540/posts/default">

<link rel="alternate" type="application/atom+xml" title="Ken Shirriff&#39;s blog - Atom" href="http://www.righto.com/feeds/5409564808315467886/comments/default">
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/1491713228-ieretrofit.js"></script>
<![endif]-->
<link href="./Secrets of Arduino PWM_files/pwm1.gif" rel="image_src">
<meta content="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html" property="og:url">
<meta content="http://arcfn.com/images/pwm1.gif" property="og:image">
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>Secrets of Arduino PWM</title>
<script type="text/javascript">
WebFontConfig = {
  google: { families: [ 'Play' ],
  api: '//fonts.googleapis.com/css?kit=vx8QUoAjNHH5OJ_a8YxAWw'
  },
  loading: function() {
    if (window.jstiming) window.jstiming.load.tick('webFontLoading');
  },
  active: function() {
    if (window.jstiming) window.jstiming.load.tick('webFontActive');
  }
};
(function() {
  var wf = document.createElement('script');
  wf.src = '//ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
  wf.type = 'text/javascript';
  wf.async = 'true';
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(wf, s);
})();

</script><style type="text/css">
.wf-inactive .header h1, .wf-play-n4-loading .header h1, .wf-play-n4-inactive .header h1 {
  font-family: sans-serif;
}

</style><link type="text/css" rel="stylesheet" href="./Secrets of Arduino PWM_files/3375562265-css_bundle_v2.css">
<link type="text/css" rel="stylesheet" href="./Secrets of Arduino PWM_files/authorization.css">
<style id="page-skin-1" type="text/css"><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Simple
Designer: Josh Peterson
URL:      www.noaesthetic.com
----------------------------------------------- */
/* Variable definitions
====================
<Variable name="keycolor" description="Main Color" type="color" default="#66bbdd"/>
<Group description="Page Text" selector="body">
<Variable name="body.font" description="Font" type="font"
default="normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="body.text.color" description="Text Color" type="color" default="#222222"/>
</Group>
<Group description="Backgrounds" selector=".body-fauxcolumns-outer">
<Variable name="body.background.color" description="Outer Background" type="color" default="#66bbdd"/>
<Variable name="content.background.color" description="Main Background" type="color" default="#ffffff"/>
<Variable name="header.background.color" description="Header Background" type="color" default="transparent"/>
</Group>
<Group description="Links" selector=".main-outer">
<Variable name="link.color" description="Link Color" type="color" default="#2288bb"/>
<Variable name="link.visited.color" description="Visited Color" type="color" default="#888888"/>
<Variable name="link.hover.color" description="Hover Color" type="color" default="#33aaff"/>
</Group>
<Group description="Blog Title" selector=".header h1">
<Variable name="header.font" description="Font" type="font"
default="normal normal 60px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="header.text.color" description="Title Color" type="color" default="#3399bb" />
</Group>
<Group description="Blog Description" selector=".header .description">
<Variable name="description.text.color" description="Description Color" type="color"
default="#777777" />
</Group>
<Group description="Tabs Text" selector=".tabs-inner .widget li a">
<Variable name="tabs.font" description="Font" type="font"
default="normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="tabs.text.color" description="Text Color" type="color" default="#999999"/>
<Variable name="tabs.selected.text.color" description="Selected Color" type="color" default="#000000"/>
</Group>
<Group description="Tabs Background" selector=".tabs-outer .PageList">
<Variable name="tabs.background.color" description="Background Color" type="color" default="#f5f5f5"/>
<Variable name="tabs.selected.background.color" description="Selected Color" type="color" default="#eeeeee"/>
</Group>
<Group description="Post Title" selector="h3.post-title, .comments h4">
<Variable name="post.title.font" description="Font" type="font"
default="normal normal 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
</Group>
<Group description="Date Header" selector=".date-header">
<Variable name="date.header.color" description="Text Color" type="color"
default="#222222"/>
<Variable name="date.header.background.color" description="Background Color" type="color"
default="transparent"/>
<Variable name="date.header.font" description="Text Font" type="font"
default="normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="date.header.padding" description="Date Header Padding" type="string" default="inherit"/>
<Variable name="date.header.letterspacing" description="Date Header Letter Spacing" type="string" default="inherit"/>
<Variable name="date.header.margin" description="Date Header Margin" type="string" default="inherit"/>
</Group>
<Group description="Post Footer" selector=".post-footer">
<Variable name="post.footer.text.color" description="Text Color" type="color" default="#666666"/>
<Variable name="post.footer.background.color" description="Background Color" type="color"
default="#f9f9f9"/>
<Variable name="post.footer.border.color" description="Shadow Color" type="color" default="#eeeeee"/>
</Group>
<Group description="Gadgets" selector="h2">
<Variable name="widget.title.font" description="Title Font" type="font"
default="normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/>
<Variable name="widget.title.text.color" description="Title Color" type="color" default="#000000"/>
<Variable name="widget.alternate.text.color" description="Alternate Color" type="color" default="#999999"/>
</Group>
<Group description="Images" selector=".main-inner">
<Variable name="image.background.color" description="Background Color" type="color" default="#ffffff"/>
<Variable name="image.border.color" description="Border Color" type="color" default="#eeeeee"/>
<Variable name="image.text.color" description="Caption Text Color" type="color" default="#222222"/>
</Group>
<Group description="Accents" selector=".content-inner">
<Variable name="body.rule.color" description="Separator Line Color" type="color" default="#eeeeee"/>
<Variable name="tabs.border.color" description="Tabs Border Color" type="color" default="#eeeeee"/>
</Group>
<Variable name="body.background" description="Body Background" type="background"
color="#f6fbf6" default="$(color) none repeat scroll top left"/>
<Variable name="body.background.override" description="Body Background Override" type="string" default=""/>
<Variable name="body.background.gradient.cap" description="Body Gradient Cap" type="url"
default="url(//www.blogblog.com/1kt/simple/gradients_light.png)"/>
<Variable name="body.background.gradient.tile" description="Body Gradient Tile" type="url"
default="url(//www.blogblog.com/1kt/simple/body_gradient_tile_light.png)"/>
<Variable name="content.background.color.selector" description="Content Background Color Selector" type="string" default=".content-inner"/>
<Variable name="content.padding" description="Content Padding" type="length" default="10px" min="0" max="100px"/>
<Variable name="content.padding.horizontal" description="Content Horizontal Padding" type="length" default="10px" min="0" max="100px"/>
<Variable name="content.shadow.spread" description="Content Shadow Spread" type="length" default="40px" min="0" max="100px"/>
<Variable name="content.shadow.spread.webkit" description="Content Shadow Spread (WebKit)" type="length" default="5px" min="0" max="100px"/>
<Variable name="content.shadow.spread.ie" description="Content Shadow Spread (IE)" type="length" default="10px" min="0" max="100px"/>
<Variable name="main.border.width" description="Main Border Width" type="length" default="0" min="0" max="10px"/>
<Variable name="header.background.gradient" description="Header Gradient" type="url" default="none"/>
<Variable name="header.shadow.offset.left" description="Header Shadow Offset Left" type="length" default="-1px" min="-50px" max="50px"/>
<Variable name="header.shadow.offset.top" description="Header Shadow Offset Top" type="length" default="-1px" min="-50px" max="50px"/>
<Variable name="header.shadow.spread" description="Header Shadow Spread" type="length" default="1px" min="0" max="100px"/>
<Variable name="header.padding" description="Header Padding" type="length" default="30px" min="0" max="100px"/>
<Variable name="header.border.size" description="Header Border Size" type="length" default="1px" min="0" max="10px"/>
<Variable name="header.bottom.border.size" description="Header Bottom Border Size" type="length" default="0" min="0" max="10px"/>
<Variable name="header.border.horizontalsize" description="Header Horizontal Border Size" type="length" default="0" min="0" max="10px"/>
<Variable name="description.text.size" description="Description Text Size" type="string" default="140%"/>
<Variable name="tabs.margin.top" description="Tabs Margin Top" type="length" default="0" min="0" max="100px"/>
<Variable name="tabs.margin.side" description="Tabs Side Margin" type="length" default="30px" min="0" max="100px"/>
<Variable name="tabs.background.gradient" description="Tabs Background Gradient" type="url"
default="url(//www.blogblog.com/1kt/simple/gradients_light.png)"/>
<Variable name="tabs.border.width" description="Tabs Border Width" type="length" default="1px" min="0" max="10px"/>
<Variable name="tabs.bevel.border.width" description="Tabs Bevel Border Width" type="length" default="1px" min="0" max="10px"/>
<Variable name="post.margin.bottom" description="Post Bottom Margin" type="length" default="25px" min="0" max="100px"/>
<Variable name="image.border.small.size" description="Image Border Small Size" type="length" default="2px" min="0" max="10px"/>
<Variable name="image.border.large.size" description="Image Border Large Size" type="length" default="5px" min="0" max="10px"/>
<Variable name="page.width.selector" description="Page Width Selector" type="string" default=".region-inner"/>
<Variable name="page.width" description="Page Width" type="string" default="auto"/>
<Variable name="main.section.margin" description="Main Section Margin" type="length" default="15px" min="0" max="100px"/>
<Variable name="main.padding" description="Main Padding" type="length" default="15px" min="0" max="100px"/>
<Variable name="main.padding.top" description="Main Padding Top" type="length" default="30px" min="0" max="100px"/>
<Variable name="main.padding.bottom" description="Main Padding Bottom" type="length" default="30px" min="0" max="100px"/>
<Variable name="paging.background"
color="#ffffff"
description="Background of blog paging area" type="background"
default="transparent none no-repeat scroll top center"/>
<Variable name="footer.bevel" description="Bevel border length of footer" type="length" default="0" min="0" max="10px"/>
<Variable name="mobile.background.overlay" description="Mobile Background Overlay" type="string"
default="transparent none repeat scroll top left"/>
<Variable name="mobile.background.size" description="Mobile Background Size" type="string" default="auto"/>
<Variable name="mobile.button.color" description="Mobile Button Color" type="color" default="#ffffff" />
<Variable name="startSide" description="Side where text starts in blog language" type="automatic" default="left"/>
<Variable name="endSide" description="Side where text ends in blog language" type="automatic" default="right"/>
*/
/* Content
----------------------------------------------- */
body {
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #222222;
background: #f6fbf6 none repeat scroll top left;
padding: 0 40px 40px 40px;
}
html body .region-inner {
min-width: 0;
max-width: 100%;
width: auto;
}
h2 {
font-size: 22px;
}
a:link {
text-decoration:none;
color: #121fb3;
}
a:visited {
text-decoration:none;
color: #121fb3;
}
a:hover {
text-decoration:underline;
color: #1a00ff;
}
.body-fauxcolumn-outer .fauxcolumn-inner {
background: transparent url(//www.blogblog.com/1kt/simple/body_gradient_tile_light.png) repeat scroll top left;
_background-image: none;
}
.body-fauxcolumn-outer .cap-top {
position: absolute;
z-index: 1;
height: 400px;
width: 100%;
}
.body-fauxcolumn-outer .cap-top .cap-left {
width: 100%;
background: transparent url(//www.blogblog.com/1kt/simple/gradients_light.png) repeat-x scroll top left;
_background-image: none;
}
.content-outer {
-moz-box-shadow: 0 0 40px rgba(0, 0, 0, .15);
-webkit-box-shadow: 0 0 5px rgba(0, 0, 0, .15);
-goog-ms-box-shadow: 0 0 10px #333333;
box-shadow: 0 0 40px rgba(0, 0, 0, .15);
margin-bottom: 1px;
}
.content-inner {
padding: 10px 10px;
}
.content-inner {
background-color: #ffffff;
}
/* Header
----------------------------------------------- */
.header-outer {
background: #f6fbf7 url(//www.blogblog.com/1kt/simple/gradients_light.png) repeat-x scroll 0 -400px;
_background-image: none;
}
.Header h1 {
font: normal normal 42px Play;
color: #666666;
text-shadow: 1px 2px 3px rgba(0, 0, 0, .2);
}
.Header h1 a {
color: #666666;
}
.Header .description {
font-size: 140%;
color: #666666;
}
.header-inner .Header .titlewrapper {
padding: 22px 30px;
}
.header-inner .Header .descriptionwrapper {
padding: 0 30px;
}
/* Tabs
----------------------------------------------- */
.tabs-inner .section:first-child {
border-top: 0 solid #eeeeee;
}
.tabs-inner .section:first-child ul {
margin-top: -0;
border-top: 0 solid #eeeeee;
border-left: 0 solid #eeeeee;
border-right: 0 solid #eeeeee;
}
.tabs-inner .widget ul {
background: #f5f5f5 url(//www.blogblog.com/1kt/simple/gradients_light.png) repeat-x scroll 0 -800px;
_background-image: none;
border-bottom: 1px solid #eeeeee;
margin-top: 0;
margin-left: -30px;
margin-right: -30px;
}
.tabs-inner .widget li a {
display: inline-block;
padding: .6em 1em;
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #999999;
border-left: 1px solid #ffffff;
border-right: 1px solid #eeeeee;
}
.tabs-inner .widget li:first-child a {
border-left: none;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
color: #000000;
background-color: #eeeeee;
text-decoration: none;
}
/* Columns
----------------------------------------------- */
.main-outer {
border-top: 0 solid #eeeeee;
}
.fauxcolumn-left-outer .fauxcolumn-inner {
border-right: 1px solid #eeeeee;
}
.fauxcolumn-right-outer .fauxcolumn-inner {
border-left: 1px solid #eeeeee;
}
/* Headings
----------------------------------------------- */
div.widget > h2,
div.widget h2.title {
margin: 0 0 1em 0;
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #000000;
}
/* Widgets
----------------------------------------------- */
.widget .zippy {
color: #999999;
text-shadow: 2px 2px 1px rgba(0, 0, 0, .1);
}
.widget .popular-posts ul {
list-style: none;
}
/* Posts
----------------------------------------------- */
h2.date-header {
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
}
.date-header span {
background-color: transparent;
color: transparent;
padding: inherit;
letter-spacing: inherit;
margin: inherit;
}
.main-inner {
padding-top: 30px;
padding-bottom: 30px;
}
.main-inner .column-center-inner {
padding: 0 15px;
}
.main-inner .column-center-inner .section {
margin: 0 15px;
}
.post {
margin: 0 0 25px 0;
}
h3.post-title, .comments h4 {
font: normal normal 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
margin: .75em 0 0;
}
.post-body {
font-size: 110%;
line-height: 1.4;
position: relative;
}
.post-body img, .post-body .tr-caption-container, .Profile img, .Image img,
.BlogList .item-thumbnail img {
padding: 2px;
background: #ffffff;
border: 1px solid #ffffff;
-moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
-webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
}
.post-body img, .post-body .tr-caption-container {
padding: 5px;
}
.post-body .tr-caption-container {
color: #222222;
}
.post-body .tr-caption-container img {
padding: 0;
background: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
box-shadow: 0 0 0 rgba(0, 0, 0, .1);
}
.post-header {
margin: 0 0 1.5em;
line-height: 1.6;
font-size: 90%;
}
.post-footer {
margin: 20px -2px 0;
padding: 5px 10px;
color: #666666;
background-color: #f9f9f9;
border-bottom: 1px solid #eeeeee;
line-height: 1.6;
font-size: 90%;
}
#comments .comment-author {
padding-top: 1.5em;
border-top: 1px solid #eeeeee;
background-position: 0 1.5em;
}
#comments .comment-author:first-child {
padding-top: 0;
border-top: none;
}
.avatar-image-container {
margin: .2em 0 0;
}
#comments .avatar-image-container img {
border: 1px solid #ffffff;
}
/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
background-repeat: no-repeat;
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}
.comments .comments-content .loadmore a {
border-top: 1px solid #999999;
border-bottom: 1px solid #999999;
}
.comments .comment-thread.inline-thread {
background-color: #f9f9f9;
}
.comments .continue {
border-top: 2px solid #999999;
}
/* Accents
---------------------------------------------- */
.section-columns td.columns-cell {
border-left: 1px solid #eeeeee;
}
.blog-pager {
background: transparent none no-repeat scroll top center;
}
.blog-pager-older-link, .home-link,
.blog-pager-newer-link {
background-color: #ffffff;
padding: 5px;
}
.footer-outer {
border-top: 0 dashed #bbbbbb;
}
/* Mobile
----------------------------------------------- */
body.mobile  {
background-size: auto;
}
.mobile .body-fauxcolumn-outer {
background: transparent none repeat scroll top left;
}
.mobile .body-fauxcolumn-outer .cap-top {
background-size: 100% auto;
}
.mobile .content-outer {
-webkit-box-shadow: 0 0 3px rgba(0, 0, 0, .15);
box-shadow: 0 0 3px rgba(0, 0, 0, .15);
}
.mobile .tabs-inner .widget ul {
margin-left: 0;
margin-right: 0;
}
.mobile .post {
margin: 0;
}
.mobile .main-inner .column-center-inner .section {
margin: 0;
}
.mobile .date-header span {
padding: 0.1em 10px;
margin: 0 -10px;
}
.mobile h3.post-title {
margin: 0;
}
.mobile .blog-pager {
background: transparent none no-repeat scroll top center;
}
.mobile .footer-outer {
border-top: none;
}
.mobile .main-inner, .mobile .footer-inner {
background-color: #ffffff;
}
.mobile-index-contents {
color: #222222;
}
.mobile-link-button {
background-color: #121fb3;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffffff;
}
.mobile .tabs-inner .section:first-child {
border-top: none;
}
.mobile .tabs-inner .PageList .widget-content {
background-color: #eeeeee;
color: #000000;
border-top: 1px solid #eeeeee;
border-bottom: 1px solid #eeeeee;
}
.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
border-left: 1px solid #eeeeee;
}
.content-outer {
max-width: 1400px !important;
}
/* fix header */
#header-inner {
width: 100% !important;
background-position: right !important;
}
.titlewrapper {
padding: 11px 30px 0 !important;
}
.descriptionwrapper {
margin-bottom: 0 !important;
}
.description {
font-size: 120% !important;
}
/* suppress things */
.date-header {
display: none;
}
#Attribution1 {
display: none;
}
.post-author, .post-timestamp, .reaction-buttons  {
display: none;
}
/* h2: sidebar titles */
/* h3: post title */
.post-title , .entry-title {
font-size: 180% !important;
margin-top: 0 !important;
}
.entry-title a:link, .entry-title a:visited, .entry-title a:active{
color: #a03;
}
#main h2 {
color:#333;
margin-bottom:.4em;
margin-top: 13px;
font-size:140%;
}
#main h3 {
color:#333;
margin-bottom:.4em;
margin-top: 13px;
font-size:110%;
}
#main h4 {
color:#333;
margin-bottom:.5em;
}
#sidebar-right-1 a:link, #sidebar-right-1 a:visited, #sidebar-right-1 a:active {
color: #666;
}
#sidebar-right-1 h2 {
font-size: 100%;
color: #666;
}
/* disable image box */
element.style {
}
table.chargers img {
height: 18px;
}
table.chargers img {
height: 18px;
}
.post-body img, .post-body .tr-caption-container {
padding: 5px;
}
.post-body img, .post-body .tr-caption-container, .Profile img, .Image img, .BlogList .item-thumbnail img {
padding: 0;
background: #ffffff;
border: none;
-moz-box-shadow: none;
-webkit-box-shadow: none;
box-shadow: none;
}
/* Special items */
a:link img.hilite, a:visited img.hilite {
color: #888;
}
a:hover img.hilite, a:hover img.hilite2 {
color: #f66;
}
a:active img.hilite {
color: #33c;
}
pre {color:#000000;border:1px solid #000000;}
pre.repl { background-color:#e0e0f0; font-size:120%;}
pre.arc { background-color:#e0e0f0; font-size:120%;}
pre.code { background-color:#e0f0e0; font-size:120%; white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;text-wrap:unrestricted;}
code { font-size: 120%;}
blockquote { font-size: 110%; background: transparent url("/images/blockquote.gif") no-repeat 0 0; margin: 20px 0px; padding: 0px 40px;}
div.cite {font-size: .8em;.; font-style: italic; color: #888; margin-bottom: 9px;}
a.ref { color: gray;vertical-align: super; text-decoration: none; font-size:60%;margin-left: 2px;}
a img.hilite {
border: 1px solid;
color: #888;
z-index: 2;
}
a img.hilite2, a:active img.hilite2 {
border: 1px solid;
color: #f6fbf6;
}
table.chargers {
border-width: 1px;
border-spacing: 2px;
border-style: outset;
border-color: gray;
border-collapse: collapse;
background-color: white;
}
table.chargers th.maker {
padding-right: 5px;
text-align: right;
}
table.chargers th {
border-width: 1px;
padding: 3px;
border-style: inset;
border-color: gray;
background-color: white;
text-align: center;
}
table.chargers img {
height: 18px;
}
table.chargers td {
text-align: center;
border-width: 1px;
padding: 2px 8px;
border-style: inset;
border-color: gray;
background-color: white;
}
--></style>
<style id="template-skin-1" type="text/css"><!--
body {
min-width: 750px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 750px;
max-width: 750px;
_width: 750px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 240px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 240px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("240px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 240px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 240px;
margin-right: -240px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
--></style>
<link rel="stylesheet" href="./Secrets of Arduino PWM_files/css" media="all"><script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-3782444-1']);
        _gaq.push(['_trackPageview']);
        (function() {
          var ga = document.createElement('script');
          ga.type = 'text/javascript';
          ga.async = true;
          ga.src = (document.location.protocol == 'https:' ?
                    'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(ga, s);
        })();
      </script>
<script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('headEnd');
</script><script type="text/javascript" src="./Secrets of Arduino PWM_files/google_top_exp.js"></script><style>.gc-bubbleDefault{background-color:transparent !important;text-align:left;padding:0 !important;margin:0 !important;border:0 !important;table-layout:auto !important}.gc-reset{background-color:transparent !important;border:0 !important;padding:0 !important;margin:0 !important;text-align:left}.pls-bubbleTop{border-bottom:1px solid #ccc !important}.pls-topTail,.pls-vertShimLeft,.pls-contentLeft{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/border_3.gif) !important}.pls-topTail{background-repeat:repeat-x !important;background-position:bottom !important}.pls-vertShim{background-color:#fff !important;text-align:right}.tbl-grey .pls-vertShim{background-color:#f5f5f5 !important}.pls-vertShimLeft{background-repeat:repeat-y !important;background-position:right !important;height:4px}.pls-vertShimRight{height:4px}.pls-confirm-container .pls-vertShim{background-color:#fff3c2 !important}.pls-contentWrap{background-color:#fff !important;position:relative !important;vertical-align:top}.pls-contentLeft{background-repeat:repeat-y;background-position:right;vertical-align:top}.pls-dropRight{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropR_3.png) !important;background-repeat:repeat-y !important;vertical-align:top}.pls-vert,.pls-tailleft,.pls-dropTR .pls-dropBR,.pls-dropBL,.pls-vert img{vertical-align:top}.pls-dropBottom{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropB_3.png) !important;background-repeat:repeat-x !important;width:100%;vertical-align:top}.pls-topLeft{background:inherit !important;text-align:right;vertical-align:bottom}.pls-topRight{background:inherit !important;text-align:left;vertical-align:bottom}.pls-bottomLeft{background:inherit !important;text-align:right}.pls-bottomRight{background:inherit !important;text-align:left;vertical-align:top}.pls-tailtop,.pls-tailright,.pls-tailbottom,.pls-tailleft{display:none;position:relative}.pls-tailbottom,.pls-tailtop,.pls-tailright,.pls-tailleft,.pls-dropTR,.pls-dropBR,.pls-dropBL{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite_3.png) !important;background-repeat:no-repeat}.tbl-grey .pls-tailbottom,.tbl-grey .pls-tailtop,.tbl-grey .pls-tailright,.tbl-grey .pls-tailleft,.tbl-grey .pls-dropTR,.tbl-grey .pls-dropBR,.tbl-grey .pls-dropBL{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite-grey.png) !important}.pls-tailbottom{background-position:-23px 0}.pls-confirm-container .pls-tailbottom{background-position:-23px -10px}.pls-tailtop{background-position:-19px -20px}.pls-tailright{background-position:0 0}.pls-tailleft{background-position:-10px 0}.pls-tailtop{vertical-align:top}.gc-bubbleDefault td{line-height:0;font-size:0}.pls-topLeft img,.pls-topRight img,.pls-tailbottom{vertical-align:bottom}.pls-bottomLeft img,.bubbleDropTR,.pls-dropBottomL img,.pls-dropBottom img,.pls-dropBottomR img,.pls-bottomLeft{vertical-align:top}.pls-dropTR{background-position:0 -22px}.pls-dropBR{background-position:0 -27px}.pls-dropBL{background-position:0 -16px}.pls-spacertop,.pls-spacerright,.pls-spacerbottom,.pls-spacerleft{position:static !important}.pls-spinner{bottom:0;position:absolute;left:0;margin:auto;right:0;top:0} </style></head>
<body class=" variant-bold">
<div class="navbar section" id="navbar"><div class="widget Navbar" data-version="1" id="Navbar1"><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="" tabindex="0" vspace="0" width="100%" id="navbar-iframe" name="navbar-iframe" src="./Secrets of Arduino PWM_files/navbar.html"></iframe></div>
<script type="text/javascript" src="./Secrets of Arduino PWM_files/plusone.js" gapi_processed="true"></script>
<script type="text/javascript">
        gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
          if (gapi.iframes && gapi.iframes.getContext) {
            gapi.iframes.getContext().openChild({
                url: 'https://www.blogger.com/navbar.g?targetBlogID\x3d6264947694886887540\x26blogName\x3dKen+Shirriff\x27s+blog\x26publishMode\x3dPUBLISH_MODE_HOSTED\x26navbarType\x3dLIGHT\x26layoutType\x3dLAYOUTS\x26searchRoot\x3dhttp://www.righto.com/search\x26blogLocale\x3den\x26v\x3d2\x26homepageUrl\x3dhttp://www.righto.com/\x26targetPostID\x3d5409564808315467886\x26blogPostOrPageUrl\x3dhttp://www.righto.com/2009/07/secrets-of-arduino-pwm.html\x26vt\x3d2972612393382360927',
                where: document.getElementById("navbar-iframe-container"),
                id: "navbar-iframe"
            });
          }
        });
      </script><script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script>
</div></div>
<div class="body-fauxcolumns">
<div class="fauxcolumn-outer body-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content">
<div class="content-fauxcolumns">
<div class="fauxcolumn-outer content-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content-outer">
<div class="content-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left content-fauxborder-left">
<div class="fauxborder-right content-fauxborder-right"></div>
<div class="content-inner">
<header>
<div class="header-outer">
<div class="header-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left header-fauxborder-left">
<div class="fauxborder-right header-fauxborder-right"></div>
<div class="region-inner header-inner">
<div class="header section" id="header"><div class="widget Header" data-version="1" id="Header1">
<div id="header-inner" style="background-image: url(&quot;https://lh5.googleusercontent.com/-OyFd36t2Doo/T7nMSchO46I/AAAAAAAAKjM/ynuhCCEf_bs/s800/background.jpg&quot;); background-position: left; width: 550px; min-height: 105px; _height: 105px; background-repeat: no-repeat; ">
<div class="titlewrapper" style="background: transparent">
<h1 class="title" style="background: transparent; border-width: 0px">
<a href="http://www.righto.com/">Ken Shirriff's blog</a>
</h1>
</div>
<div class="descriptionwrapper">
<p class="description"><span>Chargers, microprocessors, Arduino, and whatever</span></p>
</div>
</div>
</div></div>
</div>
</div>
<div class="header-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</header>
<div class="tabs-outer">
<div class="tabs-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left tabs-fauxborder-left">
<div class="fauxborder-right tabs-fauxborder-right"></div>
<div class="region-inner tabs-inner">
<div class="tabs section" id="crosscol"></div>
<div class="tabs section" id="crosscol-overflow"></div>
</div>
</div>
<div class="tabs-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="main-outer">
<div class="main-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left main-fauxborder-left">
<div class="fauxborder-right main-fauxborder-right"></div>
<div class="region-inner main-inner">
<div class="columns fauxcolumns">
<div class="fauxcolumn-outer fauxcolumn-center-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-left-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-right-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class="columns-inner">
<div class="column-center-outer">
<div class="column-center-inner">
<div class="main section" id="main"><div class="widget Blog" data-version="1" id="Blog1">
<div class="blog-posts hfeed">

          <div class="date-outer">
        

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="http://arcfn.com/images/pwm1.gif" itemprop="image_url">
<meta content="6264947694886887540" itemprop="blogId">
<meta content="5409564808315467886" itemprop="postId">
<a name="5409564808315467886"></a>
<h3 class="post-title entry-title" itemprop="name">
Secrets of Arduino PWM
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-5409564808315467886" itemprop="description articleBody">
Pulse-width modulation (PWM) can be implemented on the Arduino in several ways.  This article explains simple PWM techniques, as well as how to use the PWM registers directly for more control over the duty cycle and frequency.  This article focuses on the Arduino Diecimila and Duemilanove models, which use the ATmega168 or ATmega328.
<p>
If you're unfamiliar with Pulse Width Modulation, see the <a href="http://www.arduino.cc/en/Tutorial/PWM">tutorial</a>.  Briefly, a PWM signal is a digital square wave, where the frequency is constant, but that fraction of the time the signal is on (the duty cycle) can be varied between 0 and 100%.
<br>
<img class="border" src="./Secrets of Arduino PWM_files/pwm1.gif" alt="PWM examples">
<br>
PWM has several uses:
</p><ul>
<li>Dimming an LED
</li><li>Providing an analog output; if the digital output is filtered, it will provide an analog voltage between 0% and 100% .
</li><li>Generating audio signals.
</li><li>Providing variable speed control for motors.
</li><li>Generating a modulated signal, for example to drive an infrared LED for a remote control.
</li></ul>
<h3>Simple Pulse Width Modulation with <code>analogWrite</code></h3>
The Arduino's programming language makes PWM easy to use; simply call <code><a href="http://arduino.cc/en/Reference/AnalogWrite">analogWrite</a>(pin, dutyCycle)</code>, where <code>dutyCycle</code> is a value from 0 to 255, and <code>pin</code> is one of the PWM pins (3, 5, 6, 9, 10, or 11).  The <code>analogWrite</code> function provides a simple interface to the hardware PWM, but doesn't provide any control over frequency.  (Note that despite the function name, the output is a digital signal.)
<p>
Probably 99% of the readers can stop here, and just use <code>analogWrite</code>, but there are other options that provide more flexibility.
</p><h3>Bit-banging Pulse Width Modulation</h3>
You can "manually" implement PWM on any pin by repeatedly turning the pin on and off for the desired times.  e.g.
<pre class="code">void setup()
{
  pinMode(13, OUTPUT);
}

void loop()
{
  digitalWrite(13, HIGH);
  delayMicroseconds(100); // Approximately 10% duty cycle @ 1KHz
  digitalWrite(13, LOW);
  delayMicroseconds(900);
}
</pre>
This technique has the advantage that it can use any digital output pin.  In addition, you have full control the duty cycle and frequency.  One major disadvantage is that any interrupts will affect the timing, which can cause considerable jitter unless you disable interrupts.  A second disadvantage is you can't leave the output
running while the processor does something else.  Finally, it's difficult
to determine the appropriate constants for a particular duty cycle and frequency unless you either carefully count cycles, or tweak the values while watching an oscilloscope.
<h3>Using the ATmega PWM registers directly</h3>
The ATmega168P/328P chip has three PWM timers, controlling 6 PWM outputs.  By manipulating the chip's timer registers directly, you can obtain more control than the <code>analogWrite</code> function provides.
<p>
The <a href="http://www.sparkfun.com/datasheets/Components/SMD/ATMega328.pdf">AVR ATmega328P datasheet</a> provides a detailed description of the PWM timers, but the datasheet can be difficult to understand, due to the many different control and output modes of the timers.  The following attempts to clarify the use of the timers.
</p><p>
The ATmega328P has three timers known as Timer 0, Timer 1, and Timer 2.  Each timer has two output compare registers that control the PWM width for the timer's two outputs: when the timer reaches the compare register value, the corresponding output is toggled. The two outputs for each timer will normally have the same frequency, but can have different duty cycles (depending on the respective output compare register).
</p><p>
Each of the timers has a prescaler that generates the timer clock by dividing the system clock by a prescale factor such as 1, 8, 64, 256, or 1024.  The Arduino has a system clock of 16MHz and the timer clock frequency will be the system clock frequency divided by the prescale factor.  Note that Timer 2 has a different set of prescale values from the other timers.
</p><p>
The timers are complicated by several different modes.  The main PWM modes are "Fast PWM" and "Phase-correct PWM", which will be described below.  The timer can either run from 0 to 255, or from 0 to a fixed value.  (The 16-bit Timer 1 has additional modes to supports timer values up to 16 bits.) Each output can also be inverted.
</p><p>
The timers can also generate interrupts on overflow and/or match against either output compare register, but that's beyond the scope of this article.
</p><h4>Timer Registers</h4>
Several registers are used to control each timer.  The Timer/Counter Control Registers TCCRnA and TCCRnB hold the main control bits for the timer.  (Note that TCCRnA and TCCRnB do not correspond to the outputs A and B.)  These registers hold several groups of bits:
<ul>
<li>Waveform Generation Mode bits (WGM): these control the overall mode of the timer.  (These bits are split between TCCRnA and TCCRnB.)
</li><li>Clock Select bits (CS): these control the clock prescaler
</li><li>Compare Match Output A Mode bits (COMnA): these enable/disable/invert output A
</li><li>Compare Match Output B Mode bits (COMnB): these enable/disable/invert output B
</li></ul>
The Output Compare Registers OCRnA and OCRnB set the levels at which outputs A and B will be affected.  When the timer value matches the register value, the corresponding output will be modified as specified by the mode.
<p>
The bits are slightly different for each timer, so consult the datasheet for details.  Timer 1 is a 16-bit timer and has additional modes.  Timer 2 has different prescaler values.
</p><p>
</p><h4>Fast PWM</h4>
In the simplest PWM mode, the timer repeatedly counts from 0 to 255.  The output turns on when the timer is at 0, and turns off when the timer matches the output compare register.  The higher the value in the output compare register, the higher the duty cycle.  This mode is known as <b>Fast PWM Mode</b>.
<br>
The following diagram shows the outputs for two particular values of OCRnA and OCRnB.  Note that both outputs have the same frequncy, matching the frequency of a complete timer cycle.
<br>
<img class="border" src="./Secrets of Arduino PWM_files/pwm2.gif" alt="Fast PWM Mode">
<br>
The following code fragment sets up fast PWM on pins 3 and 11 (Timer 2).  To summarize the register settings, setting the waveform generation mode bits WGM to 011 selects fast PWM.  Setting the COM2A bits and COM2B bits to 10 provides non-inverted PWM for outputs A and B.  Setting the CS bits to 100 sets the prescaler to divide the clock by 64.  (Since the bits are different for the different timers, consult the <a href="http://www.sparkfun.com/datasheets/Components/SMD/ATMega328.pdf">datasheet</a> for the right values.)  The output compare registers are arbitrarily set to 180 and 50 to control the PWM duty cycle of outputs A and B.
(Of course, you can modify the registers directly instead of using <code>pinMode</code>, but you do need to set the pins to output.)
<pre class="code">  pinMode(3, OUTPUT);
  pinMode(11, OUTPUT);
  TCCR2A = _BV(COM2A1) | _BV(COM2B1) | _BV(WGM21) | _BV(WGM20);
  TCCR2B = _BV(CS22);
  OCR2A = 180;
  OCR2B = 50;
</pre>
On the Arduino Duemilanove, these values yield:
<ul>
<li>Output A frequency: 16 MHz / 64 / 256 = 976.5625Hz
</li><li>Output A duty cycle: (180+1) / 256 = 70.7%
</li><li>Output B frequency: 16 MHz / 64 / 256 = 976.5625Hz
</li><li>Output B duty cycle: (50+1) / 256 = 19.9%
</li></ul>
<p>
The output frequency is the 16MHz system clock frequency, divided by the prescaler value (64), divided by the 256 cycles it takes for the timer to wrap around.  Note that fast PWM holds the output high one cycle longer than the compare register value.
</p><h4>Phase-Correct PWM</h4>
The second PWM mode is called <b>phase-correct PWM</b>.  In this mode, the timer counts from 0 to 255 and then back down to 0.  The output turns off as the timer hits the output compare register value on the way up, and turns back on as the timer hits the output compare register value on the way down.  The result is a more symmetrical output.  The output frequency will be approximately half of the value for fast PWM mode, because the timer runs both up and down.
<br>
<img class="border" src="./Secrets of Arduino PWM_files/pwm3.gif" alt="Phase-Correct PWM">
<br>
The following code fragment sets up phase-correct PWM on pins 3 and 11 (Timer 2).  The waveform generation mode bits WGM are set to to 001 for phase-correct PWM.  The other bits are the same as for fast PWM.
<pre class="code">  pinMode(3, OUTPUT);
  pinMode(11, OUTPUT);
  TCCR2A = _BV(COM2A1) | _BV(COM2B1) | _BV(WGM20);
  TCCR2B = _BV(CS22);
  OCR2A = 180;
  OCR2B = 50;
</pre>
On the Arduino Duemilanove, these values yield:
<ul>
<li>Output A frequency: 16 MHz / 64 / 255 / 2 = 490.196Hz
</li><li>Output A duty cycle: 180 / 255 = 70.6%
</li><li>Output B frequency: 16 MHz / 64 / 255 / 2 = 490.196Hz
</li><li>Output B duty cycle: 50 / 255 = 19.6%
</li></ul>
<p>
Phase-correct PWM divides the frequency by two compared to fast PWM, because the timer goes both up and down.  Somewhat surprisingly, the frequency is divided by 255 instead of 256, and the duty cycle calculations do not add one as for fast PWM.  See the explanation below under "Off-by-one".
</p><h4>Varying the timer top limit: fast PWM</h4>
Both fast PWM and phase correct PWM have an additional mode that gives control over the output frequency.  In this mode, the timer counts from 0 to OCRA (the value of output compare register A), rather than from 0 to 255.  This gives much more control over the output frequency than the previous modes.  (For even more frequency control, use the 16-bit Timer 1.)
<p>
Note that in this mode, only output B can be used for PWM; OCRA cannot be used both as the top value and the PWM compare value.  However, there is a special-case mode "Toggle OCnA on Compare Match" that will toggle output A at the end of each cycle, generating a fixed 50% duty cycle and half frequency in this case.  The examples will use this mode.
</p><p>
In the following diagram, the timer resets when it matches OCRnA, yielding a faster output frequency for OCnB than in the previous diagrams.  Note how OCnA toggles once for each timer reset.
<br>
<img class="border" src="./Secrets of Arduino PWM_files/pwm4.gif" alt="Fast PWM Mode with OCRA top">
<br>
The following code fragment sets up fast PWM on pins 3 and 11 (Timer 2), using OCR2A as the top value for the timer.  The waveform generation mode bits WGM are set to to 111 for fast PWM with OCRA controlling the top limit.  The OCR2A top limit is arbitrarily set to 180, and the OCR2B compare register is arbitrarily set to 50.  OCR2A's mode is set to "Toggle on Compare Match" by setting the COM2A bits to 01.
</p><pre class="code">  pinMode(3, OUTPUT);
  pinMode(11, OUTPUT);
  TCCR2A = _BV(COM2A0) | _BV(COM2B1) | _BV(WGM21) | _BV(WGM20);
  TCCR2B = _BV(WGM22) | _BV(CS22);
  OCR2A = 180;
  OCR2B = 50;
</pre>
On the Arduino Duemilanove, these values yield:
<ul>
<li>Output A frequency: 16 MHz / 64 / (180+1) / 2 = 690.6Hz
</li><li>Output A duty cycle: 50%
</li><li>Output B frequency: 16 MHz / 64 / (180+1) = 1381.2Hz
</li><li>Output B duty cycle: (50+1) / (180+1) = 28.2%
</li></ul>
Note that in this example, the timer goes from 0 to 180, which takes 181 clock cycles, so the output frequency is divided by 181.  Output A has half the frequency of Output B because the Toggle on Compare Match mode toggles Output A once each complete timer cycle.
<h4>Varying the timer top limit: phase-correct PWM</h4>
Similarly, the timer can be configured in phase-correct PWM mode to reset when it reaches OCRnA.
<br>
<img class="border" src="./Secrets of Arduino PWM_files/pwm5.gif" alt="Phase-Correct PWM with OCRA top">
<br>
The following code fragment sets up phase-correct PWM on pins 3 and 11 (Timer 2), using OCR2A as the top value for the timer.  The waveform generation mode bits WGM are set to to 101 for phase-correct PWM with OCRA controlling the top limit.  The OCR2A top limit is arbitrarily set to 180, and the OCR2B compare register is arbitrarily set to 50.  OCR2A's mode is set to "Toggle on Compare Match" by setting the COM2A bits to 01.
<pre class="code">  pinMode(3, OUTPUT);
  pinMode(11, OUTPUT);
  TCCR2A = _BV(COM2A0) | _BV(COM2B1) | _BV(WGM20);
  TCCR2B = _BV(WGM22) | _BV(CS22);
  OCR2A = 180;
  OCR2B = 50;
</pre>
On the Arduino Duemilanove, these values yield:
<ul>
<li>Output A frequency: 16 MHz / 64 / 180 / 2 / 2 = 347.2Hz
</li><li>Output A duty cycle: 50%
</li><li>Output B frequency: 16 MHz / 64 / 180 / 2 = 694.4Hz
</li><li>Output B duty cycle: 50 / 180 = 27.8%
</li></ul>
Note that in this example, the timer goes from 0 to 180 and back to 0, which takes 360 clock cycles.  Thus, everything is divided by 180 or 360, unlike the fast PWM case, which divided everything by 181; see below for details.
<h4>Off-by-one</h4>
You may have noticed that fast PWM and phase-correct PWM seem to be off-by-one with respect to each other, dividing by 256 versus 255 and adding one in various places.  The documentation is a bit opaque here, so I'll explain in a bit of detail.
<p>
Suppose the timer is set to fast PWM mode and is set to count up to an OCRnA value of 3.  The timer will take on the values 012301230123...  Note that there are 4 clock cycles in each timer cycle.  Thus, the frequency will be divided by 4, not 3.  The duty cycle will be a multiple of 25%, since the output can be high for 0, 1, 2, 3, or 4 cycles out of the four.  Likewise, if the timer counts up to 255, there will be 256 clock cycles in each timer cycle, and the duty cycle will be a multiple of 1/256.  To summarize, fast PWM divides by N+1 where N is the maximum timer value (either OCRnA or 255).
</p><p>
Now consider phase-correct PWM mode with the timer counting up to an OCRnA value of 3.  The timer values will be 012321012321...  There are 6 clock cycles in each timer cycle (012321).  Thus the frequency will be divided by 6.  The duty cycle will be a multiple of 33%, since the output can be high for 0, 2, 4, or 6 of the 6 cycles.  Likewise, if the timer counts up to 255 and back down, there will be 510 clock cycles in each timer cycle, and the duty cycle will be a multiple of 1/255.  To summarize, phase-correct PWM divides by 2N, where N is the maximum timer value.
</p><p>
The second important timing difference is that fast PWM holds the output high for one cycle longer than the output compare register value.  The motivation for this is that for fast PWM counting to 255, the duty cycle can be from 0 to 256 cycles, but the output compare register can only hold a value from 0 to 255.  What happens to the missing value?  The fast PWM mode keeps the output high for N+1 cycles when the output compare register is set to N so an output compare register value of 255 is 100% duty cycle, but an output compare register value of 0 is <b>not</b> 0% duty cycle but 1/256 duty cycle.  This is unlike phase-correct PWM, where a register value of 255 is 100% duty cycle and a value of 0 is a 0% duty cycle.
</p><h3>Timers and the Arduino</h3>
The Arduino supports PWM on a subset of its output pins.  It may not be immediately obvious which timer controls which output, but the following table will clarify the situation.  It gives for each timer output the output pin on the Arduino (i.e. the silkscreened label on the board), the pin on the ATmega chip, and the name and bit of the output port.  For instance Timer 0 output OC0A is connected to the Arduino output pin 6; it uses chip pin 12 which is also known as PD6.
<table class="border"><tbody><tr><th>Timer output</th><th>Arduino output</th><th>Chip pin</th><th>Pin name</th></tr>
<tr><td>OC0A</td><td>6</td><td>12</td><td>PD6</td></tr>
<tr><td>OC0B</td><td>5</td><td>11</td><td>PD5</td></tr>
<tr><td>OC1A</td><td>9</td><td>15</td><td>PB1</td></tr>
<tr><td>OC1B</td><td>10</td><td>16</td><td>PB2</td></tr>
<tr><td>OC2A</td><td>11</td><td>17</td><td>PB3</td></tr>
<tr><td>OC2B</td><td>3</td><td>5</td><td>PD3</td></tr>
</tbody></table>
<p>
The Arduino performs some initialization of the timers.  The Arduino initializes the prescaler on all three timers to divide the clock by 64.  Timer 0 is initialized to Fast PWM, while Timer 1 and Timer 2 is initialized to Phase Correct PWM.  See the Arduino source file <a href="http://code.google.com/p/arduino/source/browse/trunk/hardware/cores/arduino/wiring.c">wiring.c</a> for details.
</p><p>
The Arduino uses Timer 0 internally for the <code>millis()</code> and <code>delay()</code> functions, so be warned that changing the frequency of this timer will cause those functions to be erroneous.  Using the PWM outputs is safe if you don't change the frequency, though.
</p><p>
The <code>analogWrite(pin, duty_cycle)</code> function sets the appropriate pin to PWM and sets the appropriate output compare register to <code>duty_cycle</code> (with the special case for duty cycle of 0 on Timer 0).  The <code>digitalWrite()</code> function turns off PWM output if called on a timer pin.  The relevant code is <a href="http://code.google.com/p/arduino/source/browse/trunk/hardware/cores/arduino/wiring_analog.c">wiring_analog.c</a> and <a href="http://code.google.com/p/arduino/source/browse/trunk/hardware/cores/arduino/wiring_digital.c">wiring_digital.c</a>.
</p><p>
If you use <code>analogWrite(5, 0)</code> you get a duty cycle of 0%, even though pin 5's timer (Timer 0) is using fast PWM.  How can this be, when a fast PWM value of 0 yields a duty cycle of 1/256 as explained above?  The answer is that <code>analogWrite</code> "cheats"; it has special-case code to explicitly turn off the pin when called on Timer 0 with a duty cycle of 0. As a consequency, the duty cycle of 1/256 is unavailable when you use <code>analogWrite</code> on Timer0, and there is a jump in the actual duty cycle between values of 0 and 1.
</p><p>
Some other <a href="http://arduino.cc/en/Main/Hardware">Arduino models</a> use dfferent AVR processors with similar timers.  The <a href="http://arduino.cc/en/Main/ArduinoBoardMega">Arduino Mega</a> uses the ATmega1280 (<a href="http://www.atmel.com/dyn/resources/prod_documents/doc2549.pdf">datasheet</a>), which has four 16-bit timers with 3 outputs each and two 8-bit timers with 2 outputs each.  Only 14 of the PWM outputs are supported by the Arduino Wiring library, however.  Some older Arduino models use the ATmega8 (<a href="http://www.atmel.com/dyn/resources/prod_documents/doc2486.pdf">datasheet</a>), which has three timers but only 3 PWM outputs: Timer 0 has no PWM, Timer 1 is 16 bits and has two PWM outputs, and Timer 2 is 8 bits and has one PWM output.
</p><h3>Troubleshooting</h3>
It can be tricky to get the PWM outputs to work.  Some tips:
<ul>
<li>You need to both enable the pin for output and enable the PWM mode on the pin in order to get any output.  I.e. you need to do <code>pinMode()</code> and set the COM bits.
</li><li>The different timers use the control bits and prescaler differently; check the documentation for the appropriate timer.
</li><li>Some combinations of bits that you might expect to work are reserved, which means if you try to use them, they won't work.  For example, toggle mode doesn't work with fast PWM to 255, or with output B.
</li><li>Make sure the bits are set the way you think.  Bit operations can be tricky, so print out the register values and make sure they are what you expect.
</li><li>Make sure you're using the right output pins.  See the table above.
</li><li>You'll probably want a decoupling capacitor to avoid spikes on the output.
</li></ul>
An oscilloscope is very handy for debugging PWM if you have access to one.  If you don't have one, I recommend using your sound card and a program such as <a href="http://xoscope.sourceforge.net/">xoscope</a>.
<h3>Conclusion</h3>
I hope this article helps explain the PWM modes of the Arduino.  I found the documentation of the different modes somewhat opaque, and the off-by-one issues unexplained.  Please let me know if you encounter any errors.
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1"><span class="post-comment-link">
</span>
<span class="post-icons">
<span class="item-action">
<a href="https://www.blogger.com/email-post.g?blogID=6264947694886887540&amp;postID=5409564808315467886" title="Email Post">
<img alt="" class="icon-action" height="13" src="./Secrets of Arduino PWM_files/icon18_email.gif" width="18">
</a>
</span>
<span class="item-control blog-admin pid-1138732533">
<a href="https://www.blogger.com/post-edit.g?blogID=6264947694886887540&amp;postID=5409564808315467886&amp;from=pencil" title="Edit Post">
<img alt="" class="icon-action" height="18" src="./Secrets of Arduino PWM_files/icon18_edit_allbkg.gif" width="18">
</a>
</span>
</span>
<span class="post-backlinks post-comment-link">
</span>
<div class="post-share-buttons goog-inline-block">
<a class="goog-inline-block share-button sb-email" href="https://www.blogger.com/share-post.g?blogID=6264947694886887540&amp;postID=5409564808315467886&amp;target=email" target="_blank" title="Email This"><span class="share-button-link-text">Email This</span></a><a class="goog-inline-block share-button sb-blog" href="https://www.blogger.com/share-post.g?blogID=6264947694886887540&amp;postID=5409564808315467886&amp;target=blog" onclick="window.open(this.href, &quot;_blank&quot;, &quot;height=270,width=475&quot;); return false;" target="_blank" title="BlogThis!"><span class="share-button-link-text">BlogThis!</span></a><a class="goog-inline-block share-button sb-twitter" href="https://www.blogger.com/share-post.g?blogID=6264947694886887540&amp;postID=5409564808315467886&amp;target=twitter" target="_blank" title="Share to Twitter"><span class="share-button-link-text">Share to Twitter</span></a><a class="goog-inline-block share-button sb-facebook" href="https://www.blogger.com/share-post.g?blogID=6264947694886887540&amp;postID=5409564808315467886&amp;target=facebook" onclick="window.open(this.href, &quot;_blank&quot;, &quot;height=430,width=640&quot;); return false;" target="_blank" title="Share to Facebook"><span class="share-button-link-text">Share to Facebook</span></a><a class="goog-inline-block share-button sb-pinterest" href="https://www.blogger.com/share-post.g?blogID=6264947694886887540&amp;postID=5409564808315467886&amp;target=pinterest" target="_blank" title="Share to Pinterest"><span class="share-button-link-text">Share to Pinterest</span></a><div class="goog-inline-block google-plus-share-container"><div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 300px; height: 20px; background: transparent;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 300px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I0_1462201118866" name="I0_1462201118866" src="./Secrets of Arduino PWM_files/fastbutton.html" data-gapiattached="true" title="+1"></iframe></div></div>
</div>
</div>
<div class="post-footer-line post-footer-line-2"><span class="post-labels">
Labels:
<a href="http://www.righto.com/search/label/arduino" rel="tag">arduino</a>
</span>
</div>
<div class="post-footer-line post-footer-line-3"></div>
</div>
</div>
<div class="comments" id="comments">
<a name="comments"></a>
<h4>46 comments:</h4>
<div id="Blog1_comments-block-wrapper">
<dl class="avatar-comment-indent" id="comments-block">
<dt class="comment-author " id="c57531341931304128">
<a name="c57531341931304128"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><img src="./Secrets of Arduino PWM_files/blank.gif" width="16" height="16" alt="" title="Anonymous">

</span></div>
Anonymous
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-57531341931304128">
<p>
Thank you for the article!<br><br>As a beginning Arduino user, this is very helpful!
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1257101179917#c57531341931304128" title="comment permalink">
November 1, 2009 at 10:46 AM
</a>
<span class="item-control blog-admin pid-1229197960">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=57531341931304128" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c6069690033327361117">
<a name="c6069690033327361117"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/17060121093734820965" rel="nofollow" onclick="" class="avatar-hovercard" id="av-1-17060121093734820965"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="Didier">

</a></span></div>
<a href="https://www.blogger.com/profile/17060121093734820965" rel="nofollow">Didier</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-6069690033327361117">
<p>
Excellent paper. Many Thanks
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1263131833332#c6069690033327361117" title="comment permalink">
January 10, 2010 at 5:57 AM
</a>
<span class="item-control blog-admin pid-2108490642">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=6069690033327361117" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c7495656219882598511">
<a name="c7495656219882598511"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/05954077676960722034" rel="nofollow" onclick="" class="avatar-hovercard" id="av-2-05954077676960722034"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="Jason">

</a></span></div>
<a href="https://www.blogger.com/profile/05954077676960722034" rel="nofollow">Jason</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-7495656219882598511">
<p>
exactly what I needed!  thanks!
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1264282695751#c7495656219882598511" title="comment permalink">
January 23, 2010 at 1:38 PM
</a>
<span class="item-control blog-admin pid-1370126176">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=7495656219882598511" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c6378661885610687434">
<a name="c6378661885610687434"></a>
<div class="avatar-image-container vcard"><span dir="ltr"><a href="https://www.blogger.com/profile/13087413453907453645" rel="nofollow" onclick="" class="avatar-hovercard" id="av-3-13087413453907453645"><img src="./Secrets of Arduino PWM_files/PC120467.JPG" width="35" height="35" alt="" class="delayLoad" longdesc="//4.bp.blogspot.com/_o_7kkkS0-3g/StHo5CUM1UI/AAAAAAAAADU/A37Udzdtixs/S45-s35/PC120467.JPG" title="Tom">

<noscript>&lt;img src="//4.bp.blogspot.com/_o_7kkkS0-3g/StHo5CUM1UI/AAAAAAAAADU/A37Udzdtixs/S45-s35/PC120467.JPG" width="35" height="35" class="photo" alt=""&gt;</noscript></a></span></div>
<a href="https://www.blogger.com/profile/13087413453907453645" rel="nofollow">Tom</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-6378661885610687434">
<p>
I am so glad I found this.  Just what I needed.  <br>One question though-likely I am not understanding some subtlety. <br>It seems from the datasheet that the 64 pre-scale corresponds to 110. I am wondering if I am missing something, as you mention 100 as the 64 prescale divider.<br>Thank you!
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1265565380022#c6378661885610687434" title="comment permalink">
February 7, 2010 at 9:56 AM
</a>
<span class="item-control blog-admin pid-1240426069">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=6378661885610687434" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c6379427141641594515">
<a name="c6379427141641594515"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><img src="./Secrets of Arduino PWM_files/blank.gif" width="16" height="16" alt="" title="Anonymous">

</span></div>
Anonymous
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-6379427141641594515">
<p>
Excellent article, I've been going through some example code but this made it all come together.<br><br>Thanks,<br>Mike
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1267292568913#c6379427141641594515" title="comment permalink">
February 27, 2010 at 9:42 AM
</a>
<span class="item-control blog-admin pid-566578876">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=6379427141641594515" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author blog-author" id="c7465220869248547949">
<a name="c7465220869248547949"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/08097301407311055124" rel="nofollow" onclick="" class="avatar-hovercard" id="av-5-08097301407311055124"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="Ken Shirriff">

</a></span></div>
<a href="https://www.blogger.com/profile/08097301407311055124" rel="nofollow">Ken Shirriff</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-7465220869248547949">
<p>
Tom, you asked about how to divide by 64 with the prescaler.  For timer0 and timer1, the clock select bits are set to 011 (CS02,CS01,CS00 or CS12,CS11,CS10).  But for timer2, the clock select bits are set to 100 (CS20,CS21,CS20).  Confusingly, Timer 2 uses different clock select bit values from Timers 0 and 1.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1268806958430#c7465220869248547949" title="comment permalink">
March 16, 2010 at 11:22 PM
</a>
<span class="item-control blog-admin pid-1138732533">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=7465220869248547949" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c6033633940766427347">
<a name="c6033633940766427347"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/17184388661015389939" rel="nofollow" onclick="" class="avatar-hovercard" id="av-6-17184388661015389939"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="monty">

</a></span></div>
<a href="https://www.blogger.com/profile/17184388661015389939" rel="nofollow">monty</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-6033633940766427347">
<p>
Ken,<br><br>I am just learning about Arduino and I have a question about your article on “Secrets of Arduino PWM”.<br><br>Your example says <br>  pinMode(3, OUTPUT);<br>  pinMode(11, OUTPUT);<br>  TCCR2A = _BV(COM2A1) | _BV(COM2B1) | _BV(WGM20);<br>  TCCR2B = _BV(CS22);<br>  OCR2A = 180;<br>  OCR2B = 50;<br>What I am confused about is previously you stated that that these examples set the clock divisor to 64. Is there a bit inversion in the writes to an AVR register? <br>Your line TCCR2B = _BV(CS22); would set the TCCR2B register to 00000100b.<br><br>Is there something I’m missing here?<br><br>Thanks in advance for your response.<br><br>Monty
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1271866545382#c6033633940766427347" title="comment permalink">
April 21, 2010 at 9:15 AM
</a>
<span class="item-control blog-admin pid-23870639">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=6033633940766427347" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c3187764426059483792">
<a name="c3187764426059483792"></a>
<div class="avatar-image-container vcard"><span dir="ltr"><a href="https://www.blogger.com/profile/16066285550739882631" rel="nofollow" onclick="" class="avatar-hovercard" id="av-7-16066285550739882631"><img src="./Secrets of Arduino PWM_files/steve_and_kate_by_kate_small.jpg" width="35" height="35" alt="" class="delayLoad" longdesc="//2.bp.blogspot.com/_JUESvkRXuK0/SXp3wUL0bxI/AAAAAAAAB3U/Z1-BBYvejrk/S45-s35/steve_and_kate_by_kate_small.jpg" title="Steve Gough">

<noscript>&lt;img src="//2.bp.blogspot.com/_JUESvkRXuK0/SXp3wUL0bxI/AAAAAAAAB3U/Z1-BBYvejrk/S45-s35/steve_and_kate_by_kate_small.jpg" width="35" height="35" class="photo" alt=""&gt;</noscript></a></span></div>
<a href="https://www.blogger.com/profile/16066285550739882631" rel="nofollow">Steve Gough</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-3187764426059483792">
<p>
Very helpful, thanks--we're trying to use Arduinos to power a small pump and measure flow for an open source river modeling system, and I was hung on this topic until reading this--see our stuff at lrrd.blogspot.com.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1274576763674#c3187764426059483792" title="comment permalink">
May 22, 2010 at 6:06 PM
</a>
<span class="item-control blog-admin pid-9291739">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=3187764426059483792" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c4140266131425292634">
<a name="c4140266131425292634"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/15133175322951099195" rel="nofollow" onclick="" class="avatar-hovercard" id="av-8-15133175322951099195"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="Matej">

</a></span></div>
<a href="https://www.blogger.com/profile/15133175322951099195" rel="nofollow">Matej</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-4140266131425292634">
<p>
that is wonderful.. but whan i was looking at the library i saw in the comments that this will work only for 36-40khz modulation? Whay is that and how can i change it so it will work on 56khz?
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1274603562218#c4140266131425292634" title="comment permalink">
May 23, 2010 at 1:32 AM
</a>
<span class="item-control blog-admin pid-825175264">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=4140266131425292634" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c689804252439570451">
<a name="c689804252439570451"></a>
<div class="avatar-image-container vcard"><span dir="ltr"><a href="https://www.blogger.com/profile/17968034719797455466" rel="nofollow" onclick="" class="avatar-hovercard" id="av-9-17968034719797455466"><img src="./Secrets of Arduino PWM_files/DSC01017cropped.jpg" width="35" height="35" alt="" class="delayLoad" longdesc="//1.bp.blogspot.com/_-Q5_FBnf4XU/SZcrMTyO_FI/AAAAAAAAABk/k8ud7qaNQ5A/S45-s35/DSC01017cropped.jpg" title="Cassiano Rabelo">

<noscript>&lt;img src="//1.bp.blogspot.com/_-Q5_FBnf4XU/SZcrMTyO_FI/AAAAAAAAABk/k8ud7qaNQ5A/S45-s35/DSC01017cropped.jpg" width="35" height="35" class="photo" alt=""&gt;</noscript></a></span></div>
<a href="https://www.blogger.com/profile/17968034719797455466" rel="nofollow">Cassiano Rabelo</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-689804252439570451">
<p>
Excellent tutorial Ken. Thanks a lot for sharing your knowledge.<br><br>Would you mind elaborating a bit more on how someone could use the sound card and a program such as xoscope to help debug this sort of thing? Do you mean by plugin a speaker to the arduino pin, getting it close to the computer mic and using such a software to graph the wave?<br><br>Thanks once again.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1285289751717#c689804252439570451" title="comment permalink">
September 23, 2010 at 5:55 PM
</a>
<span class="item-control blog-admin pid-1930689396">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=689804252439570451" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c6535255387428565246">
<a name="c6535255387428565246"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="http://www.xaxxon.com/" rel="nofollow" onclick=""><img src="./Secrets of Arduino PWM_files/blank.gif" width="16" height="16" alt="" title="Colin Adamson">

</a></span></div>
<a href="http://www.xaxxon.com/" rel="nofollow">Colin Adamson</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-6535255387428565246">
<p>
Most excellent thank you -- saved me days trying to make sense of that Atmega328 datasheet<br>I was using the default 490 Mhz arduino analogWrite PWM and was getting horribly low torque with some small DC motors on low duty cycles.  Changed it to 30Hz and now its way better, still runs smooth.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1292571894063#c6535255387428565246" title="comment permalink">
December 16, 2010 at 11:44 PM
</a>
<span class="item-control blog-admin pid-2064517421">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=6535255387428565246" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author blog-author" id="c3981609119757961662">
<a name="c3981609119757961662"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/08097301407311055124" rel="nofollow" onclick="" class="avatar-hovercard" id="av-11-08097301407311055124"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="Ken Shirriff">

</a></span></div>
<a href="https://www.blogger.com/profile/08097301407311055124" rel="nofollow">Ken Shirriff</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-3981609119757961662">
<p>
Colin, thanks for your comment.  I'm glad the article was helpful.<br><br>Cassiano, with a sound card oscilloscope, you connect the signal directly to the sound card through a resistor to reduce the current.  There are details at http://www.ehow.com/how_2278973_use-sound-card-oscilloscope.html
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1292653673023#c3981609119757961662" title="comment permalink">
December 17, 2010 at 10:27 PM
</a>
<span class="item-control blog-admin pid-1138732533">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=3981609119757961662" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c2692242728647297320">
<a name="c2692242728647297320"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/10631873262839085568" rel="nofollow" onclick="" class="avatar-hovercard" id="av-12-10631873262839085568"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="Thorsten">

</a></span></div>
<a href="https://www.blogger.com/profile/10631873262839085568" rel="nofollow">Thorsten</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-2692242728647297320">
<p>
Thanks for explaining this matter so extensively! I was looking for a way to generate 1 MHz on one of the Arduino-pins. Your post helped me a great deal to accomplish that. <br><br>The reason I am writing this comment is the following: It took me almost 6 hours till I found out (mainly in sheer desperation) that the order of setting the timer control registers TCCR2* and the output compare registers OCR2* seems to matter! If you assign an OCR before setting the corresponding TCCR the timer simply doesn't start counting.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1297626476152#c2692242728647297320" title="comment permalink">
February 13, 2011 at 11:47 AM
</a>
<span class="item-control blog-admin pid-2013703545">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=2692242728647297320" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c4186506149259778314">
<a name="c4186506149259778314"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><img src="./Secrets of Arduino PWM_files/blank.gif" width="16" height="16" alt="" title="Anonymous">

</span></div>
Anonymous
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-4186506149259778314">
<p>
but how can i get it to make a 38khz freq with 50% duty cicle?
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1299622449448#c4186506149259778314" title="comment permalink">
March 8, 2011 at 2:14 PM
</a>
<span class="item-control blog-admin pid-2146277917">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=4186506149259778314" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c6783103267359376189">
<a name="c6783103267359376189"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><img src="./Secrets of Arduino PWM_files/blank.gif" width="16" height="16" alt="" title="Quarkninja">

</span></div>
Quarkninja
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-6783103267359376189">
<p>
Very informative! Excellent Work! Thanks!
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1304235459330#c6783103267359376189" title="comment permalink">
May 1, 2011 at 12:37 AM
</a>
<span class="item-control blog-admin pid-281535838">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=6783103267359376189" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c54981265695428223">
<a name="c54981265695428223"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/14597993167511073460" rel="nofollow" onclick="" class="avatar-hovercard" id="av-15-14597993167511073460"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="coopermaa">

</a></span></div>
<a href="https://www.blogger.com/profile/14597993167511073460" rel="nofollow">coopermaa</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-54981265695428223">
<p>
Very helpful, thanks for your share.<br><br>As for debugging PWM, I think proteus ISIS is a good tool for that purpose. Proteus has a virtual osilloscope, see my post(in chinese, sorry):<br>http://coopermaa2nd.blogspot.com/2011/05/proteus-pwm.html
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1305453416673#c54981265695428223" title="comment permalink">
May 15, 2011 at 2:56 AM
</a>
<span class="item-control blog-admin pid-909266087">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=54981265695428223" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c97908890212131299">
<a name="c97908890212131299"></a>
<div class="avatar-image-container vcard"><span dir="ltr"><a href="https://www.blogger.com/profile/11742364931896059935" rel="nofollow" onclick="" class="avatar-hovercard" id="av-16-11742364931896059935"><img src="./Secrets of Arduino PWM_files/140820b.jpg" width="35" height="35" alt="" class="delayLoad" longdesc="//1.bp.blogspot.com/_nDn64oGyifI/S-5k_IF4WQI/AAAAAAAACIw/aG4EeIMM4bo/S45-s35/140820b.jpg" title="Sami Mughal">

<noscript>&lt;img src="//1.bp.blogspot.com/_nDn64oGyifI/S-5k_IF4WQI/AAAAAAAACIw/aG4EeIMM4bo/S45-s35/140820b.jpg" width="35" height="35" class="photo" alt=""&gt;</noscript></a></span></div>
<a href="https://www.blogger.com/profile/11742364931896059935" rel="nofollow">Sami Mughal</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-97908890212131299">
<p>
I wrote a brief article on creating PWM using the Arduino UNO, with ability to control the frequency on my blog. Just leaving a link here as I found this article very useful in my research !<br><br>http://smacula.blogspot.com/2011/04/creating-variable-frequency-pwm-output.html
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1309188078401#c97908890212131299" title="comment permalink">
June 27, 2011 at 8:21 AM
</a>
<span class="item-control blog-admin pid-1196162492">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=97908890212131299" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c833855992645591806">
<a name="c833855992645591806"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><img src="./Secrets of Arduino PWM_files/blank.gif" width="16" height="16" alt="" title="Anonymous">

</span></div>
Anonymous
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-833855992645591806">
<p>
Great summary and guide for using the ATmega328p timers!  Thanks for taking the time to put this together.  Very helpful.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1311541509521#c833855992645591806" title="comment permalink">
July 24, 2011 at 2:05 PM
</a>
<span class="item-control blog-admin pid-52873002">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=833855992645591806" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c8888101986429879071">
<a name="c8888101986429879071"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/05858975075878302747" rel="nofollow" onclick="" class="avatar-hovercard" id="av-18-05858975075878302747"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="Michael">

</a></span></div>
<a href="https://www.blogger.com/profile/05858975075878302747" rel="nofollow">Michael</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-8888101986429879071">
<p>
This may be a stupid question by a newbie, but what is the _BV function?  Nowhere to be found in the Arduino reference.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1313391522122#c8888101986429879071" title="comment permalink">
August 14, 2011 at 11:58 PM
</a>
<span class="item-control blog-admin pid-1753584930">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=8888101986429879071" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c8134674511736544012">
<a name="c8134674511736544012"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/14597993167511073460" rel="nofollow" onclick="" class="avatar-hovercard" id="av-19-14597993167511073460"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="coopermaa">

</a></span></div>
<a href="https://www.blogger.com/profile/14597993167511073460" rel="nofollow">coopermaa</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-8134674511736544012">
<p>
_BV is a macro defined in avr-libc:<br><br>#define _BV(x)   (1 &lt;&lt; x)<br><br>see http://194.81.104.27/~brian/microprocessor/BVMacro.pdf
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1313394430254#c8134674511736544012" title="comment permalink">
August 15, 2011 at 12:47 AM
</a>
<span class="item-control blog-admin pid-909266087">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=8134674511736544012" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c825525498605018816">
<a name="c825525498605018816"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><img src="./Secrets of Arduino PWM_files/blank.gif" width="16" height="16" alt="" title="Anonymous">

</span></div>
Anonymous
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-825525498605018816">
<p>
Thank you very much, this is the best condensed reference I have seen, all clear and to the point!!!
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1326964883049#c825525498605018816" title="comment permalink">
January 19, 2012 at 1:21 AM
</a>
<span class="item-control blog-admin pid-1590151549">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=825525498605018816" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c7581832958560681375">
<a name="c7581832958560681375"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="http://www.houseofpain.org/" rel="nofollow" onclick=""><img src="./Secrets of Arduino PWM_files/blank.gif" width="16" height="16" alt="" title="mitch deoudes">

</a></span></div>
<a href="http://www.houseofpain.org/" rel="nofollow">mitch deoudes</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-7581832958560681375">
<p>
The version of this article posted at <a href="http://arduino.cc/en/Tutorial/SecretsOfArduinoPWM" rel="nofollow">arduino.cc</a> is missing all of the diagrams except the first one.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1328333524395#c7581832958560681375" title="comment permalink">
February 3, 2012 at 9:32 PM
</a>
<span class="item-control blog-admin pid-1908494431">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=7581832958560681375" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c5608487134960863004">
<a name="c5608487134960863004"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><img src="./Secrets of Arduino PWM_files/blank.gif" width="16" height="16" alt="" title="Henry Best">

</span></div>
Henry Best
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-5608487134960863004">
<p>
I want to use a low frequency PWM, below 10Hz. The frequency isn't critical but would have to be in that area. Any ideas how to get down to that frequency? I want to use the Arduino Uno for other things whilst the PWM is being output.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1328594524383#c5608487134960863004" title="comment permalink">
February 6, 2012 at 10:02 PM
</a>
<span class="item-control blog-admin pid-76380323">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=5608487134960863004" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c209537865320067215">
<a name="c209537865320067215"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><img src="./Secrets of Arduino PWM_files/blank.gif" width="16" height="16" alt="" title="Anonymous">

</span></div>
Anonymous
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-209537865320067215">
<p>
Hi, is it possible for my Arduino Duemilanove to go down to 70 Hz? I need to output a PWM from my board at that frequency. Basically I am creating a buffer that takes in a PWM signal and outputs a PWM that has the same pulse width and frequency as the input signal.  Is it also possible to update the frequency in every execution? I can't seem to get it to work <br>properly.. Thanks in advance!
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1333079422883#c209537865320067215" title="comment permalink">
March 29, 2012 at 8:50 PM
</a>
<span class="item-control blog-admin pid-279536431">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=209537865320067215" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c2109371642016811591">
<a name="c2109371642016811591"></a>
<div class="avatar-image-container vcard"><span dir="ltr"><a href="https://www.blogger.com/profile/11742364931896059935" rel="nofollow" onclick="" class="avatar-hovercard" id="av-24-11742364931896059935"><img src="./Secrets of Arduino PWM_files/1.png" width="35" height="35" alt="" class="delayLoad" longdesc="//4.bp.blogspot.com/-rHVImp0Rg28/Tt89K6VnxtI/AAAAAAAADgc/G91g6HQrRaM/s35/1.png" title="Sami Mughal">

<noscript>&lt;img src="//4.bp.blogspot.com/-rHVImp0Rg28/Tt89K6VnxtI/AAAAAAAADgc/G91g6HQrRaM/s35/1.png" width="35" height="35" class="photo" alt=""&gt;</noscript></a></span></div>
<a href="https://www.blogger.com/profile/11742364931896059935" rel="nofollow">Sami Mughal</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-2109371642016811591">
<p>
Hi,<br><br>If you read my article: http://www.smacula.co.uk/2011/04/creating-variable-frequency-pwm-output.html<br><br>You can actually go as low as 15Hz. I have not tried to go that low myself though, but don't see why it would not work.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1333090245360#c2109371642016811591" title="comment permalink">
March 29, 2012 at 11:50 PM
</a>
<span class="item-control blog-admin pid-1196162492">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=2109371642016811591" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c7316938269752375217">
<a name="c7316938269752375217"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/12444475739456044479" rel="nofollow" onclick="" class="avatar-hovercard" id="av-25-12444475739456044479"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="GratefulFrog">

</a></span></div>
<a href="https://www.blogger.com/profile/12444475739456044479" rel="nofollow">GratefulFrog</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-7316938269752375217">
<p>
Hi,<br>Your article has been a great help, but now I am working on an Arduino Micro with an ATMEGA 32u4 processor.<br><br>All I want to do is get phase-correct PWM at the highest possible frequency on 3 pins.<br><br>Will these 2 lines do that? <br><br>TCCR1B = _BV(CS00); // change the PWM frequencey to 31.25kHz   - pins 9 &amp; 10 <br>    <br>// timer 0B : pin 3 &amp; 11<br>TCCR0B = _BV(CS00); // change the PWM frequencey to 31.25 kHz  - pin 3 &amp; 11<br><br>please let me know, if you can, by relying to my id at gmail.<br>Cheers,<br>Bob
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1362764168986#c7316938269752375217" title="comment permalink">
March 8, 2013 at 9:36 AM
</a>
<span class="item-control blog-admin pid-1156029417">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=7316938269752375217" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c205529487850980488">
<a name="c205529487850980488"></a>
<div class="avatar-image-container vcard"><span dir="ltr"><a href="https://www.blogger.com/profile/10201836718453977599" rel="nofollow" onclick="" class="avatar-hovercard" id="av-26-10201836718453977599"><img src="./Secrets of Arduino PWM_files/blank(1).gif" width="35" height="35" alt="" class="delayLoad" longdesc="//lh3.googleusercontent.com/-fA2JL0stxOo/AAAAAAAAAAI/AAAAAAAAAB0/kCfaDXa7jR8/s35-c/photo.jpg" title="Сергей Орляк">

<noscript>&lt;img src="//lh3.googleusercontent.com/-fA2JL0stxOo/AAAAAAAAAAI/AAAAAAAAAB0/kCfaDXa7jR8/s35-c/photo.jpg" width="35" height="35" class="photo" alt=""&gt;</noscript></a></span></div>
<a href="https://www.blogger.com/profile/10201836718453977599" rel="nofollow">Сергей Орляк</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-205529487850980488">
<p>
Hi Ken,<br>Thank you for your library!<br>I modified it a bit to work with Hitachi air conditioning. But there is one momnet I can not understand. I had to increase the buffer to 600 (RAWBUF 600). But then I try to read I can read only 532 byte. While there is still 8 :( In what may be another reason of not getting all the data from the console?<br>Thank you! And excuse me for my english!
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1365957205354#c205529487850980488" title="comment permalink">
April 14, 2013 at 9:33 AM
</a>
<span class="item-control blog-admin pid-892740410">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=205529487850980488" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author blog-author" id="c3761743678438384954">
<a name="c3761743678438384954"></a>
<div class="avatar-image-container vcard"><span dir="ltr"><a href="https://www.blogger.com/profile/08097301407311055124" rel="nofollow" onclick="" class="avatar-hovercard" id="av-27-08097301407311055124"><img src="./Secrets of Arduino PWM_files/blank(1).gif" width="35" height="35" alt="" class="delayLoad" longdesc="//lh5.googleusercontent.com/-mhMQ1x5I-14/AAAAAAAAAAI/AAAAAAAAQAM/18Pth9GsJ-M/s35-c/photo.jpg" title="Ken Shirriff">

<noscript>&lt;img src="//lh5.googleusercontent.com/-mhMQ1x5I-14/AAAAAAAAAAI/AAAAAAAAQAM/18Pth9GsJ-M/s35-c/photo.jpg" width="35" height="35" class="photo" alt=""&gt;</noscript></a></span></div>
<a href="https://www.blogger.com/profile/08097301407311055124" rel="nofollow">Ken Shirriff</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-3761743678438384954">
<p>
Сергей: another user of the irremote library found that rawlen type (uint8_t) is too small for more than 256 entries, so try replacing it by unsigned short int. Also, discussion of the irremote library is <a href="http://www.righto.com/2009/08/multi-protocol-infrared-remote-library.html" rel="nofollow">here</a>.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1366040547883#c3761743678438384954" title="comment permalink">
April 15, 2013 at 8:42 AM
</a>
<span class="item-control blog-admin pid-1138732533">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=3761743678438384954" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c4024014866128728453">
<a name="c4024014866128728453"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/10071071884455787806" rel="nofollow" onclick="" class="avatar-hovercard" id="av-28-10071071884455787806"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="Gabriel">

</a></span></div>
<a href="https://www.blogger.com/profile/10071071884455787806" rel="nofollow">Gabriel</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-4024014866128728453">
<p>
Fantastic Article!!! Thanks a ton.  <br><br>As Mitch Deoudes, said, "The version of this article posted at arduino.cc is missing all of the diagrams except the first one."  This is still true.  If you could figure out how to get the diagrams added back into the article on arduino.cc (http://arduino.cc/en/Tutorial/SecretsOfArduinoPWM) that would be great!<br><br>Thanks!<br>Gabriel Staples<br>http://electricrcaircraftguy.blogspot.com/
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1387690165951#c4024014866128728453" title="comment permalink">
December 21, 2013 at 9:29 PM
</a>
<span class="item-control blog-admin pid-1317036301">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=4024014866128728453" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c2951068811413961591">
<a name="c2951068811413961591"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/16045746973596684539" rel="nofollow" onclick="" class="avatar-hovercard" id="av-29-16045746973596684539"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="dafaddah">

</a></span></div>
<a href="https://www.blogger.com/profile/16045746973596684539" rel="nofollow">dafaddah</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-2951068811413961591">
<p>
I'm working on 'sculpting' an output signal to meet certain shape and frequency parameters. This is the first time I'm beginning to see the light at the end of the tunnel trying to understand how to code PWM to accomplish this. Many thanks!!
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1392121354382#c2951068811413961591" title="comment permalink">
February 11, 2014 at 4:22 AM
</a>
<span class="item-control blog-admin pid-1065779991">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=2951068811413961591" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c2527166080295102088">
<a name="c2527166080295102088"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/10071071884455787806" rel="nofollow" onclick="" class="avatar-hovercard" id="av-30-10071071884455787806"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="Gabriel">

</a></span></div>
<a href="https://www.blogger.com/profile/10071071884455787806" rel="nofollow">Gabriel</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-2527166080295102088">
<p>
dafaddah, that sounds very interesting; I'd like to see what you can do to "sculpt" a signal shape, so would you mind sharing a link here when you are done, so others can see your work?
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1392123397133#c2527166080295102088" title="comment permalink">
February 11, 2014 at 4:56 AM
</a>
<span class="item-control blog-admin pid-1317036301">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=2527166080295102088" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c8929414268107960175">
<a name="c8929414268107960175"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="http://electricrcaircraftguy.blogspot.com/" rel="nofollow" onclick=""><img src="./Secrets of Arduino PWM_files/blank.gif" width="16" height="16" alt="" title="Gabriel">

</a></span></div>
<a href="http://electricrcaircraftguy.blogspot.com/" rel="nofollow">Gabriel</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-8929414268107960175">
<p>
dafaddah,<br><br>Since posting my last question to you, I've learned that you can turn a PWM signal into a true analog output by using an R-C filter (ex: Resistor of 10k and Capacitor of 0.1uF).  I'm now guessing that you are using an R-C analog filter to turn a high-freq PWM output into a true analog signal....just like a DAC (Digital to Analog Converter).  Is this correct?  If so, what freq are you using, and what R-C values are you using on your filter?  <br><br>In either case, for anyone who wants to see an example of this, see pgs. 217-219 of Simon Monk's book "Programming Arduino Next Steps: Going Further with Sketches."  Figure 13-4 on the bottom of pg. 217 shows the R-C filter with R=10k and C=100nF (0.1uF), feeding a PWM-generated signal into an Oscilloscope, as a filtered analog signal.  Figure 13-5 on pg. 219 shows the actual 1KHz wave form (a sine wave) produced by the Arduino Uno with a 10KHz PWM signal sent through this analog filter.  The top sine wave is the input signal to the Arduino, as created by a nice signal generator, and the bottom sine wave (a little rougher looking), is the signal that the Arduino generated itself, again, using a 10KHz PWM signal going through that simple R-C filter.  This is very cool!  An R-C filter like that is only a few cents, and now you have a true analog output using a cheap Arduino!  For anyone wanting to see these pages, they are viewable on Amazon here, by clicking the book image to look inside: http://www.amazon.com/Programming-Arduino-Next-Steps-Sketches/dp/0071830251.<br><br>Have fun!<br><br>~Gabriel<br>http://electricrcaircraftguy.blogspot.com/
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1404274165419#c8929414268107960175" title="comment permalink">
July 1, 2014 at 9:09 PM
</a>
<span class="item-control blog-admin pid-1434296698">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=8929414268107960175" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c1711510783605100165">
<a name="c1711510783605100165"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/16695812640719120085" rel="nofollow" onclick="" class="avatar-hovercard" id="av-32-16695812640719120085"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="Rohit Varma">

</a></span></div>
<a href="https://www.blogger.com/profile/16695812640719120085" rel="nofollow">Rohit Varma</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-1711510783605100165">
<p>
Hii ken i need to generate digital AM signal using arduino using timer 0 and 1<br>http://www.ncbi.nlm.nih.gov/pubmed/24689560<br>please help any help would be gretly appreciated
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1410270574740#c1711510783605100165" title="comment permalink">
September 9, 2014 at 6:49 AM
</a>
<span class="item-control blog-admin pid-1078176816">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=1711510783605100165" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c2567906990536604885">
<a name="c2567906990536604885"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/08451368805339601586" rel="nofollow" onclick="" class="avatar-hovercard" id="av-33-08451368805339601586"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="emgab">

</a></span></div>
<a href="https://www.blogger.com/profile/08451368805339601586" rel="nofollow">emgab</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-2567906990536604885">
<p>
Excellent article, never saw something as comprehensive and clear about Timeers and PWM before - many thanks for your time and efforts.<br><br>kind regards, Mike from Mannheim, Germany
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1415282184262#c2567906990536604885" title="comment permalink">
November 6, 2014 at 5:56 AM
</a>
<span class="item-control blog-admin pid-1267985714">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=2567906990536604885" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c3027610008365565669">
<a name="c3027610008365565669"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><img src="./Secrets of Arduino PWM_files/blank.gif" width="16" height="16" alt="" title="Anonymous">

</span></div>
Anonymous
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-3027610008365565669">
<p>
Hello Ken, <br><br>I need some help from you on my the same task. <br><br>I need to generate 4 independent PWM signals with fixed frequency of 25Khz. <br><br>I am currently using UNO. I have implemented the same code which was in this blog, setting the same PRESCALE and OUTPUT COMPARE REG for a test. <br><br>As UNO is ATMEGA 328, the FAST PWM should work on this too having same CS values. <br><br>I did not get any waveform at the desired PIN. Do you suggest me work on any other board? <br><br>Need some inputs, so that i can move in that direction. <br><br>Thank you in advance. <br><br>SAFWAN
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1415702179104#c3027610008365565669" title="comment permalink">
November 11, 2014 at 2:36 AM
</a>
<span class="item-control blog-admin pid-198156723">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=3027610008365565669" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c1145550892096784996">
<a name="c1145550892096784996"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/12357841577714823341" rel="nofollow" onclick="" class="avatar-hovercard" id="av-35-12357841577714823341"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="DvanF">

</a></span></div>
<a href="https://www.blogger.com/profile/12357841577714823341" rel="nofollow">DvanF</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-1145550892096784996">
<p>
Ken, thanks for this usefull document. I have tried the examples and they do work fine. What I would like is some more detailed information on how to use the PWM outputs with a controllable frequency AND separately controleed duty cycle. In your examples I can't find a way to change the frequency. I want to use it for speed control of my model train (Märklin scale Z).<br>Thanks, Dick van Fulpen, Houten (NL)
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1416230781776#c1145550892096784996" title="comment permalink">
November 17, 2014 at 5:26 AM
</a>
<span class="item-control blog-admin pid-2141663584">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=1145550892096784996" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c8074275132104637245">
<a name="c8074275132104637245"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/12357841577714823341" rel="nofollow" onclick="" class="avatar-hovercard" id="av-36-12357841577714823341"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="DvanF">

</a></span></div>
<a href="https://www.blogger.com/profile/12357841577714823341" rel="nofollow">DvanF</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-8074275132104637245">
<p>
Ken, thanks for this usefull document. I have tried the examples and they do work fine. What I would like is some more detailed information on how to use the PWM outputs with a controllable frequency AND separately controleed duty cycle. In your examples I can't find a way to change the frequency. I want to use it for speed control of my model train (Märklin scale Z).<br>Thanks, Dick van Fulpen, Houten (NL)
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1416230866975#c8074275132104637245" title="comment permalink">
November 17, 2014 at 5:27 AM
</a>
<span class="item-control blog-admin pid-2141663584">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=8074275132104637245" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c7566802577946870043">
<a name="c7566802577946870043"></a>
<div class="avatar-image-container vcard"><span dir="ltr"><a href="https://www.blogger.com/profile/10071071884455787806" rel="nofollow" onclick="" class="avatar-hovercard" id="av-37-10071071884455787806"><img src="./Secrets of Arduino PWM_files/blank(1).gif" width="35" height="35" alt="" class="delayLoad" longdesc="//3.bp.blogspot.com/-tTaRta_BHU8/VCodh74bp7I/AAAAAAAABR4/xiYCkrmYlRo/s35/*" title="Gabriel">

<noscript>&lt;img src="//3.bp.blogspot.com/-tTaRta_BHU8/VCodh74bp7I/AAAAAAAABR4/xiYCkrmYlRo/s35/*" width="35" height="35" class="photo" alt=""&gt;</noscript></a></span></div>
<a href="https://www.blogger.com/profile/10071071884455787806" rel="nofollow">Gabriel</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-7566802577946870043">
<p>
DvanF, it's all there. Looks like you need to do a closer read.  See the section "Varying the timer top limit: fast PWM", for example.  Varying OCR2A in that example sets the frequency, and varying OCR2B sets the duty cycle of output B.  <br><br>I hope that helps.  Good luck!<br><br>~Gabriel Staples<br>http://electricrcaircraftguy.blogspot.com/
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1416454315320#c7566802577946870043" title="comment permalink">
November 19, 2014 at 7:31 PM
</a>
<span class="item-control blog-admin pid-1317036301">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=7566802577946870043" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c770164676638915203">
<a name="c770164676638915203"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/07656591698609684025" rel="nofollow" onclick="" class="avatar-hovercard" id="av-38-07656591698609684025"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="SOLID">

</a></span></div>
<a href="https://www.blogger.com/profile/07656591698609684025" rel="nofollow">SOLID</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-770164676638915203">
<p>
I am a newbie to arduino and this tutorial was excellent in solving so many problems for me. The problem is that I would like to do same with the other timers (1 and 0).. Could you please confirm that what I have currently setup is correct..<br><br>  pinMode(3, OUTPUT);<br>  pinMode(11, OUTPUT);<br>  pinMode(6, OUTPUT);<br>  pinMode(5, OUTPUT);<br>  pinMode(9, OUTPUT);<br>  pinMode(10, OUTPUT);<br>  TCCR2A = _BV(COM2A1) | _BV(COM2B1) | _BV(WGM21) | _BV(WGM20);<br>  TCCR2B = _BV(CS22);<br>  TCCR1A = _BV(COM1A1) | _BV(COM1B1) | _BV(WGM11) | _BV(WGM10);<br>  TCCR1B = _BV(CS22);<br>  TCCR0A = _BV(COM0A1) | _BV(COM0B1) | _BV(WGM01) | _BV(WGM00);<br>  TCCR0B = _BV(CS22);<br>  OCR2A = 180;<br>  OCR2B = 50;<br>  OCR1A = 180;<br>  OCR1B = 50;<br>  OCR0A = 180;<br>  OCR0B = 50;
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1421405132787#c770164676638915203" title="comment permalink">
January 16, 2015 at 2:45 AM
</a>
<span class="item-control blog-admin pid-1120399363">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=770164676638915203" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c3507029197301532926">
<a name="c3507029197301532926"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/07656591698609684025" rel="nofollow" onclick="" class="avatar-hovercard" id="av-39-07656591698609684025"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="SOLID">

</a></span></div>
<a href="https://www.blogger.com/profile/07656591698609684025" rel="nofollow">SOLID</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-3507029197301532926">
<p>
Solved it.... All by myself... thanks to this tutorial that clarified the avr guide... SUPER&gt;....
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1421424990736#c3507029197301532926" title="comment permalink">
January 16, 2015 at 8:16 AM
</a>
<span class="item-control blog-admin pid-1120399363">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=3507029197301532926" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c7241194663057582524">
<a name="c7241194663057582524"></a>
<div class="avatar-image-container vcard"><span dir="ltr"><a href="https://www.blogger.com/profile/14186406070483599248" rel="nofollow" onclick="" class="avatar-hovercard" id="av-40-14186406070483599248"><img src="./Secrets of Arduino PWM_files/blank(1).gif" width="35" height="35" alt="" class="delayLoad" longdesc="//lh3.googleusercontent.com/-cdYtvFHtr0w/AAAAAAAAAAI/AAAAAAAAAC8/haE1nbyKc7I/s35-c/photo.jpg" title="Александр Собецкий">

<noscript>&lt;img src="//lh3.googleusercontent.com/-cdYtvFHtr0w/AAAAAAAAAAI/AAAAAAAAAC8/haE1nbyKc7I/s35-c/photo.jpg" width="35" height="35" class="photo" alt=""&gt;</noscript></a></span></div>
<a href="https://www.blogger.com/profile/14186406070483599248" rel="nofollow">Александр Собецкий</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-7241194663057582524">
<p>
Solid, please tell me the solution<br>s0bes@mail.ru<br>s0bes68@gmail.com
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1422442621959#c7241194663057582524" title="comment permalink">
January 28, 2015 at 2:57 AM
</a>
<span class="item-control blog-admin pid-354046769">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=7241194663057582524" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c3310475731256471580">
<a name="c3310475731256471580"></a>
<div class="avatar-image-container vcard"><span dir="ltr"><a href="https://www.blogger.com/profile/06646659717201792447" rel="nofollow" onclick="" class="avatar-hovercard" id="av-41-06646659717201792447"><img src="./Secrets of Arduino PWM_files/blank(1).gif" width="35" height="35" alt="" class="delayLoad" longdesc="//lh3.googleusercontent.com/-51ndWaEzniU/AAAAAAAAAAI/AAAAAAAAAP4/GCgDKc8tPDg/s35-c/photo.jpg" title="Paul Moore">

<noscript>&lt;img src="//lh3.googleusercontent.com/-51ndWaEzniU/AAAAAAAAAAI/AAAAAAAAAP4/GCgDKc8tPDg/s35-c/photo.jpg" width="35" height="35" class="photo" alt=""&gt;</noscript></a></span></div>
<a href="https://www.blogger.com/profile/06646659717201792447" rel="nofollow">Paul Moore</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-3310475731256471580">
<p>
Hello Ken and thank you for this post -- I am looking at doing a 60Hz AC inverter - so I need to push a new Duty Cycle setting to the timer for every pulse.<br>Based on your info I am expecting to use Timer 2 for the Phase Correct ( ensuring A or B can have a true 0% DS output.  ( I am using an H Bridge) - So for 1/2 cycle A will go from 0 to 100% and back with B at 0%.<br>So the questions is...As the timer  is running, I do my calculation and come up with the next pulse DS and I have to write this to the OCR2A and B - whaile the output is active - does this work? - or will this reset the timer and start the pulse all over?<br> - I am guessing this is more in the guts of the register management for the 328 - the DS says they are double buffered, and I would assume this means you can write to them while the timer is running ( in one pulse period) - <br>Do I have this correct?
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1427289514523#c3310475731256471580" title="comment permalink">
March 25, 2015 at 6:18 AM
</a>
<span class="item-control blog-admin pid-1680654320">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=3310475731256471580" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c7541369534834078361">
<a name="c7541369534834078361"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/13815065643062587777" rel="nofollow" onclick="" class="avatar-hovercard" id="av-42-13815065643062587777"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="Mark Shanks">

</a></span></div>
<a href="https://www.blogger.com/profile/13815065643062587777" rel="nofollow">Mark Shanks</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-7541369534834078361">
<p>
I'm pretty sure the comment in the first example code should be 10% duty cycle at 1Hz, not 1kHz. Good article though.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1453079964573#c7541369534834078361" title="comment permalink">
January 17, 2016 at 5:19 PM
</a>
<span class="item-control blog-admin pid-1058543507">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=7541369534834078361" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c715318194234747329">
<a name="c715318194234747329"></a>
<div class="avatar-image-container vcard"><span dir="ltr"><a href="https://www.blogger.com/profile/10071071884455787806" rel="nofollow" onclick="" class="avatar-hovercard" id="av-43-10071071884455787806"><img src="./Secrets of Arduino PWM_files/blank(1).gif" width="35" height="35" alt="" class="delayLoad" longdesc="//lh6.googleusercontent.com/--XCGaBkR4Ho/AAAAAAAAAAI/AAAAAAAACxI/Hr7HDIosKYo/s35-c/photo.jpg" title="Gabriel Staples">

<noscript>&lt;img src="//lh6.googleusercontent.com/--XCGaBkR4Ho/AAAAAAAAAAI/AAAAAAAACxI/Hr7HDIosKYo/s35-c/photo.jpg" width="35" height="35" class="photo" alt=""&gt;</noscript></a></span></div>
<a href="https://www.blogger.com/profile/10071071884455787806" rel="nofollow">Gabriel Staples</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-715318194234747329">
<p>
That's delayMicroseconds, not delay, so no, it's 1 kHz. 100 us on/1000us total period = 10% at 1ms period, or 1khz.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1453102114136#c715318194234747329" title="comment permalink">
January 17, 2016 at 11:28 PM
</a>
<span class="item-control blog-admin pid-1317036301">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=715318194234747329" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c4657957923185183413">
<a name="c4657957923185183413"></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/13815065643062587777" rel="nofollow" onclick="" class="avatar-hovercard" id="av-44-13815065643062587777"><img src="./Secrets of Arduino PWM_files/b16-rounded.gif" width="16" height="16" alt="" title="Mark Shanks">

</a></span></div>
<a href="https://www.blogger.com/profile/13815065643062587777" rel="nofollow">Mark Shanks</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-4657957923185183413">
<p>
Ah, thanks Gabriel, my brain didn't see the 'microseconds' after delay. My bad.
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1453126832436#c4657957923185183413" title="comment permalink">
January 18, 2016 at 6:20 AM
</a>
<span class="item-control blog-admin pid-1058543507">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=4657957923185183413" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
<dt class="comment-author " id="c2905243490684937492">
<a name="c2905243490684937492"></a>
<div class="avatar-image-container vcard"><span dir="ltr"><a href="https://www.blogger.com/profile/07609316744170103517" rel="nofollow" onclick="" class="avatar-hovercard" id="av-45-07609316744170103517"><img src="./Secrets of Arduino PWM_files/blank(1).gif" width="35" height="35" alt="" class="delayLoad" longdesc="//lh5.googleusercontent.com/-CiAOH3Nx1AM/AAAAAAAAAAI/AAAAAAAAHJE/KkXGtNj9fFE/s35-c/photo.jpg" title="Saytinh">

<noscript>&lt;img src="//lh5.googleusercontent.com/-CiAOH3Nx1AM/AAAAAAAAAAI/AAAAAAAAHJE/KkXGtNj9fFE/s35-c/photo.jpg" width="35" height="35" class="photo" alt=""&gt;</noscript></a></span></div>
<a href="https://www.blogger.com/profile/07609316744170103517" rel="nofollow">Saytinh</a>
said...
</dt>
<dd class="comment-body" id="Blog1_cmt-2905243490684937492">
<p>
Great article. Thanks for sharing your knowledge.<br><br>Can you give more instruction to make a oscilloscope from a sound card?
</p>
</dd>
<dd class="comment-footer">
<span class="comment-timestamp">
<a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html?showComment=1461040027011#c2905243490684937492" title="comment permalink">
April 18, 2016 at 9:27 PM
</a>
<span class="item-control blog-admin pid-1486228384">
<a class="comment-delete" href="https://www.blogger.com/delete-comment.g?blogID=6264947694886887540&amp;postID=2905243490684937492" title="Delete Comment">
<img src="./Secrets of Arduino PWM_files/icon_delete13.gif">
</a>
</span>
</span>
</dd>
</dl>
</div>
<p class="comment-footer">
<a href="https://www.blogger.com/comment.g?blogID=6264947694886887540&amp;postID=5409564808315467886" onclick="">Post a Comment</a>
</p>
<div id="backlinks-container">
<div id="Blog1_backlinks-container"><a name="links"></a><h4>Links to this post</h4>
<p class="comment-footer">
<a class="comment-link" href="https://www.blogger.com/blog-this.g" id="Blog1_backlinks-create-link" target="_blank">Create a Link</a>
</p>
</div>
</div>
</div>
</div>
<div class="inline-ad">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-0159785530845184";
google_ad_host = "ca-host-pub-1556223355139109";
google_ad_host_channel = "L0007";
/* arcfn_main_Blog1_300x250_as */
google_ad_slot = "6408308186";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript" src="./Secrets of Arduino PWM_files/show_ads.js">
</script><ins id="aswift_0_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins>
</div>

        </div></div>
      
</div>
<div class="blog-pager" id="blog-pager">
<span id="blog-pager-newer-link">
<a class="blog-pager-newer-link" href="http://www.righto.com/2009/08/worlds-smallest-arc-server.html" id="Blog1_blog-pager-newer-link" title="Newer Post">Newer Post</a>
</span>
<span id="blog-pager-older-link">
<a class="blog-pager-older-link" href="http://www.righto.com/2009/06/arduino-sheevaplug-cool-hardware.html" id="Blog1_blog-pager-older-link" title="Older Post">Older Post</a>
</span>
<a class="home-link" href="http://www.righto.com/">Home</a>
</div>
<div class="clear"></div>
<div class="post-feeds">
<div class="feed-links">
Subscribe to:
<a class="feed-link" href="http://www.righto.com/feeds/5409564808315467886/comments/default" target="_blank" type="application/atom+xml">Post Comments (Atom)</a>
</div>
</div>
<script type="text/javascript">window.___gcfg = {'lang': 'en'};</script>
</div></div>
</div>
</div>
<div class="column-left-outer">
<div class="column-left-inner">
<aside>
</aside>
</div>
</div>
<div class="column-right-outer">
<div class="column-right-inner">
<aside>
<div class="sidebar section" id="sidebar-right-1"><div class="widget PopularPosts" data-version="1" id="PopularPosts1">
<h2>Popular Posts</h2>
<div class="widget-content popular-posts">
<ul>
<li>
<div class="item-thumbnail-only">
<div class="item-title"><a href="http://www.righto.com/2016/04/teardown-of-cmos-555-timer-chip-how.html">Reverse engineering the popular 555 timer chip (CMOS version)</a></div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-thumbnail-only">
<div class="item-thumbnail">
<a href="http://www.righto.com/2009/08/multi-protocol-infrared-remote-library.html" target="_blank">
<img alt="" border="0" src="">
</a>
</div>
<div class="item-title"><a href="http://www.righto.com/2009/08/multi-protocol-infrared-remote-library.html">A Multi-Protocol Infrared Remote Library for the Arduino</a></div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-thumbnail-only">
<div class="item-thumbnail">
<a href="http://www.righto.com/2012/10/a-dozen-usb-chargers-in-lab-apple-is.html" target="_blank">
<img alt="" border="0" src="./Secrets of Arduino PWM_files/chargers.png">
</a>
</div>
<div class="item-title"><a href="http://www.righto.com/2012/10/a-dozen-usb-chargers-in-lab-apple-is.html">A dozen USB chargers in the lab: Apple is very good, but not quite the best</a></div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-thumbnail-only">
<div class="item-thumbnail">
<a href="http://www.righto.com/2012/05/apple-iphone-charger-teardown-quality.html" target="_blank">
<img alt="" border="0" src="">
</a>
</div>
<div class="item-title"><a href="http://www.righto.com/2012/05/apple-iphone-charger-teardown-quality.html">Apple iPhone charger teardown: quality in a tiny expensive package</a></div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-thumbnail-only">
<div class="item-title"><a href="http://www.righto.com/2016/05/inside-card-sorters-1920s-data.html">Inside card sorters: 1920s data processing with punched cards and relays</a></div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-thumbnail-only">
<div class="item-title"><a href="http://www.righto.com/2015/11/macbook-charger-teardown-surprising.html">Macbook charger teardown: The surprising complexity inside Apple's power adapter</a></div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-thumbnail-only">
<div class="item-thumbnail">
<a href="http://www.righto.com/2014/05/a-look-inside-ipad-chargers-pricey.html" target="_blank">
<img alt="" border="0" src="./Secrets of Arduino PWM_files/charger-ipads.png">
</a>
</div>
<div class="item-title"><a href="http://www.righto.com/2014/05/a-look-inside-ipad-chargers-pricey.html">iPad charger teardown: inside Apple's charger and a risky phony</a></div>
</div>
<div style="clear: both;"></div>
</li>
<li>
<div class="item-thumbnail-only">
<div class="item-thumbnail">
<a href="http://www.righto.com/2012/03/inside-cheap-phone-charger-and-why-you.html" target="_blank">
<img alt="" border="0" src="./Secrets of Arduino PWM_files/charger-iphone4.png">
</a>
</div>
<div class="item-title"><a href="http://www.righto.com/2012/03/inside-cheap-phone-charger-and-why-you.html">Tiny, cheap, and dangerous: Inside a (fake) iPhone charger</a></div>
</div>
<div style="clear: both;"></div>
</li>
</ul>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6264947694886887540&amp;widgetType=PopularPosts&amp;widgetId=PopularPosts1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;PopularPosts1&quot;));" target="configPopularPosts1" title="Edit">
<img alt="" height="18" src="./Secrets of Arduino PWM_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget Label" data-version="1" id="Label1">
<h2>Labels</h2>
<div class="widget-content cloud-label-widget-content">
<span class="label-size label-size-4">
<a dir="ltr" href="http://www.righto.com/search/label/6502">6502</a>
</span>
<span class="label-size label-size-4">
<a dir="ltr" href="http://www.righto.com/search/label/8085">8085</a>
</span>
<span class="label-size label-size-4">
<a dir="ltr" href="http://www.righto.com/search/label/apple">apple</a>
</span>
<span class="label-size label-size-5">
<a dir="ltr" href="http://www.righto.com/search/label/arc">arc</a>
</span>
<span class="label-size label-size-4">
<a dir="ltr" href="http://www.righto.com/search/label/arduino">arduino</a>
</span>
<span class="label-size label-size-3">
<a dir="ltr" href="http://www.righto.com/search/label/arm">arm</a>
</span>
<span class="label-size label-size-3">
<a dir="ltr" href="http://www.righto.com/search/label/bitcoin">bitcoin</a>
</span>
<span class="label-size label-size-1">
<a dir="ltr" href="http://www.righto.com/search/label/c%23">c#</a>
</span>
<span class="label-size label-size-2">
<a dir="ltr" href="http://www.righto.com/search/label/calculator">calculator</a>
</span>
<span class="label-size label-size-2">
<a dir="ltr" href="http://www.righto.com/search/label/css">css</a>
</span>
<span class="label-size label-size-5">
<a dir="ltr" href="http://www.righto.com/search/label/electronics">electronics</a>
</span>
<span class="label-size label-size-1">
<a dir="ltr" href="http://www.righto.com/search/label/f%23">f#</a>
</span>
<span class="label-size label-size-2">
<a dir="ltr" href="http://www.righto.com/search/label/fractals">fractals</a>
</span>
<span class="label-size label-size-2">
<a dir="ltr" href="http://www.righto.com/search/label/genome">genome</a>
</span>
<span class="label-size label-size-1">
<a dir="ltr" href="http://www.righto.com/search/label/haskell">haskell</a>
</span>
<span class="label-size label-size-2">
<a dir="ltr" href="http://www.righto.com/search/label/html5">html5</a>
</span>
<span class="label-size label-size-3">
<a dir="ltr" href="http://www.righto.com/search/label/ibm1401">ibm1401</a>
</span>
<span class="label-size label-size-2">
<a dir="ltr" href="http://www.righto.com/search/label/ipv6">ipv6</a>
</span>
<span class="label-size label-size-4">
<a dir="ltr" href="http://www.righto.com/search/label/ir">ir</a>
</span>
<span class="label-size label-size-2">
<a dir="ltr" href="http://www.righto.com/search/label/java">java</a>
</span>
<span class="label-size label-size-2">
<a dir="ltr" href="http://www.righto.com/search/label/javascript">javascript</a>
</span>
<span class="label-size label-size-3">
<a dir="ltr" href="http://www.righto.com/search/label/math">math</a>
</span>
<span class="label-size label-size-2">
<a dir="ltr" href="http://www.righto.com/search/label/oscilloscope">oscilloscope</a>
</span>
<span class="label-size label-size-2">
<a dir="ltr" href="http://www.righto.com/search/label/photo">photo</a>
</span>
<span class="label-size label-size-4">
<a dir="ltr" href="http://www.righto.com/search/label/power%20supply">power supply</a>
</span>
<span class="label-size label-size-5">
<a dir="ltr" href="http://www.righto.com/search/label/random">random</a>
</span>
<span class="label-size label-size-5">
<a dir="ltr" href="http://www.righto.com/search/label/reverse-engineering">reverse-engineering</a>
</span>
<span class="label-size label-size-3">
<a dir="ltr" href="http://www.righto.com/search/label/sheevaplug">sheevaplug</a>
</span>
<span class="label-size label-size-3">
<a dir="ltr" href="http://www.righto.com/search/label/snark">snark</a>
</span>
<span class="label-size label-size-2">
<a dir="ltr" href="http://www.righto.com/search/label/spanish">spanish</a>
</span>
<span class="label-size label-size-3">
<a dir="ltr" href="http://www.righto.com/search/label/teardown">teardown</a>
</span>
<span class="label-size label-size-2">
<a dir="ltr" href="http://www.righto.com/search/label/theory">theory</a>
</span>
<span class="label-size label-size-3">
<a dir="ltr" href="http://www.righto.com/search/label/Z-80">Z-80</a>
</span>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6264947694886887540&amp;widgetType=Label&amp;widgetId=Label1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;Label1&quot;));" target="configLabel1" title="Edit">
<img alt="" height="18" src="./Secrets of Arduino PWM_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget AdSense" data-version="1" id="AdSense1">
<div class="widget-content">
<script type="text/javascript"><!--
google_ad_client="pub-0159785530845184";
google_ad_host="pub-1556223355139109";
google_alternate_ad_url="http://www.blogger.com/img/blogger_ad160x600.html";
google_ad_width=160;
google_ad_height=600;
google_ad_format="160x600_as";
google_ad_type="text_image";
google_ad_host_channel="0001";
google_color_border="E6E6E6";
google_color_bg="E6E6E6";
google_color_link="B8A80D";
google_color_url="999999";
google_color_text="000000";
//--></script>
<script type="text/javascript" src="./Secrets of Arduino PWM_files/show_ads.js">
</script><ins id="aswift_1_expand" style="display:inline-table;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:160px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:160px;background-color:transparent"><iframe width="160" height="600" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;"></iframe></ins></ins>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6264947694886887540&amp;widgetType=AdSense&amp;widgetId=AdSense1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;AdSense1&quot;));" target="configAdSense1" title="Edit">
<img alt="" height="18" src="./Secrets of Arduino PWM_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget LinkList" data-version="1" id="LinkList2">
<h2>Power supply posts</h2>
<div class="widget-content">
<ul>
<li><a href="http://www.arcfn.com/2012/05/apple-iphone-charger-teardown-quality.html">iPhone charger teardown</a></li>
<li><a href="http://www.arcfn.com/2012/10/a-dozen-usb-chargers-in-lab-apple-is.html">A dozen USB chargers</a></li>
<li><a href="http://www.righto.com/2013/06/teardown-and-exploration-of-magsafe.html">Magsafe hacking</a></li>
<li><a href="http://www.arcfn.com/2012/03/inside-cheap-phone-charger-and-why-you.html">Inside a fake iPhone charger</a></li>
<li><a href="http://www.arcfn.com/2012/02/apple-didnt-revolutionize-power.html">Power supply history</a></li>
</ul>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6264947694886887540&amp;widgetType=LinkList&amp;widgetId=LinkList2&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;LinkList2&quot;));" target="configLinkList2" title="Edit">
<img alt="" height="18" src="./Secrets of Arduino PWM_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget HTML" data-version="1" id="HTML2">
<div class="widget-content">
<a href="http://www.blogger.com/profile/08097301407311055124"><img src="./Secrets of Arduino PWM_files/name.png"></a>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6264947694886887540&amp;widgetType=HTML&amp;widgetId=HTML2&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;HTML2&quot;));" target="configHTML2" title="Edit">
<img alt="" height="18" src="./Secrets of Arduino PWM_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div><div class="widget BlogArchive" data-version="1" id="BlogArchive1">
<h2>Blog Archive</h2>
<div class="widget-content">
<div id="ArchiveList">
<div id="BlogArchive1_ArchiveList">
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/search?updated-min=2016-01-01T00:00:00-08:00&amp;updated-max=2017-01-01T00:00:00-08:00&amp;max-results=10">
2016
</a>
<span class="post-count" dir="ltr">(10)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2016_05_01_archive.html">
May
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2016_04_01_archive.html">
April
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2016_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2016_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2016_01_01_archive.html">
January
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/search?updated-min=2015-01-01T00:00:00-08:00&amp;updated-max=2016-01-01T00:00:00-08:00&amp;max-results=12">
2015
</a>
<span class="post-count" dir="ltr">(12)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2015_12_01_archive.html">
December
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2015_11_01_archive.html">
November
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2015_10_01_archive.html">
October
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2015_08_01_archive.html">
August
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2015_05_01_archive.html">
May
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2015_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2015_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/search?updated-min=2014-01-01T00:00:00-08:00&amp;updated-max=2015-01-01T00:00:00-08:00&amp;max-results=13">
2014
</a>
<span class="post-count" dir="ltr">(13)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2014_12_01_archive.html">
December
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2014_10_01_archive.html">
October
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2014_09_01_archive.html">
September
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2014_05_01_archive.html">
May
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2014_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2014_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(5)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/search?updated-min=2013-01-01T00:00:00-08:00&amp;updated-max=2014-01-01T00:00:00-08:00&amp;max-results=24">
2013
</a>
<span class="post-count" dir="ltr">(24)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2013_11_01_archive.html">
November
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2013_09_01_archive.html">
September
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2013_08_01_archive.html">
August
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2013_07_01_archive.html">
July
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2013_06_01_archive.html">
June
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2013_04_01_archive.html">
April
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2013_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2013_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2013_01_01_archive.html">
January
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/search?updated-min=2012-01-01T00:00:00-08:00&amp;updated-max=2013-01-01T00:00:00-08:00&amp;max-results=10">
2012
</a>
<span class="post-count" dir="ltr">(10)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2012_12_01_archive.html">
December
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2012_11_01_archive.html">
November
</a>
<span class="post-count" dir="ltr">(5)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2012_10_01_archive.html">
October
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2012_05_01_archive.html">
May
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2012_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2012_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/search?updated-min=2011-01-01T00:00:00-08:00&amp;updated-max=2012-01-01T00:00:00-08:00&amp;max-results=11">
2011
</a>
<span class="post-count" dir="ltr">(11)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2011_12_01_archive.html">
December
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2011_07_01_archive.html">
July
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2011_05_01_archive.html">
May
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2011_04_01_archive.html">
April
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2011_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2011_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/search?updated-min=2010-01-01T00:00:00-08:00&amp;updated-max=2011-01-01T00:00:00-08:00&amp;max-results=22">
2010
</a>
<span class="post-count" dir="ltr">(22)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2010_12_01_archive.html">
December
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2010_11_01_archive.html">
November
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2010_10_01_archive.html">
October
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2010_08_01_archive.html">
August
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2010_06_01_archive.html">
June
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2010_05_01_archive.html">
May
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2010_04_01_archive.html">
April
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2010_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2010_01_01_archive.html">
January
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        ▼&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/search?updated-min=2009-01-01T00:00:00-08:00&amp;updated-max=2010-01-01T00:00:00-08:00&amp;max-results=22">
2009
</a>
<span class="post-count" dir="ltr">(22)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2009_12_01_archive.html">
December
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2009_11_01_archive.html">
November
</a>
<span class="post-count" dir="ltr">(5)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2009_09_01_archive.html">
September
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2009_08_01_archive.html">
August
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        ▼&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2009_07_01_archive.html">
July
</a>
<span class="post-count" dir="ltr">(1)</span>
<ul class="posts">
<li><a href="http://www.righto.com/2009/07/secrets-of-arduino-pwm.html">Secrets of Arduino PWM</a></li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2009_06_01_archive.html">
June
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2009_04_01_archive.html">
April
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2009_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2009_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(2)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2009_01_01_archive.html">
January
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/search?updated-min=2008-01-01T00:00:00-08:00&amp;updated-max=2009-01-01T00:00:00-08:00&amp;max-results=27">
2008
</a>
<span class="post-count" dir="ltr">(27)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2008_07_01_archive.html">
July
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2008_06_01_archive.html">
June
</a>
<span class="post-count" dir="ltr">(1)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2008_05_01_archive.html">
May
</a>
<span class="post-count" dir="ltr">(3)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2008_04_01_archive.html">
April
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2008_03_01_archive.html">
March
</a>
<span class="post-count" dir="ltr">(10)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://www.righto.com/2008_02_01_archive.html">
February
</a>
<span class="post-count" dir="ltr">(6)</span>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6264947694886887540&amp;widgetType=BlogArchive&amp;widgetId=BlogArchive1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;BlogArchive1&quot;));" target="configBlogArchive1" title="Edit">
<img alt="" height="18" src="./Secrets of Arduino PWM_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div><div class="widget HTML" data-version="1" id="HTML1">
<div class="widget-content">
<script type="text/javascript"><!--
amazon_ad_tag = "rightocom"; amazon_ad_width = "160"; amazon_ad_height = "600"; amazon_ad_link_target = "new"; amazon_color_background = "F6F6F6"; amazon_color_link = "0B3660";//--></script>
<script type="text/javascript" src="./Secrets of Arduino PWM_files/ads.js"></script><script src="./Secrets of Arduino PWM_files/ads-common.js" type="text/javascript"></script><iframe src="./Secrets of Arduino PWM_files/cm.html" marginwidth="0" marginheight="0" width="160" height="600" border="0" frameborder="0" style="border:none;" scrolling="no"></iframe>

<!--<script charset="utf-8" type="text/javascript" src="http://ws.amazon.com/widgets/q?ServiceVersion=20070822&MarketPlace=US&ID=V20070822/US/rightocom/8001/b3f6b083-3c2a-4444-a0de-6d75351ee9d6"> </script> <noscript><a href="http://ws.amazon.com/widgets/q?ServiceVersion=20070822&MarketPlace=US&ID=V20070822%2FUS%2Frightocom%2F8001%2Fb3f6b083-3c2a-4444-a0de-6d75351ee9d6&Operation=NoScript">Amazon.com Widgets</a></noscript>-->
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6264947694886887540&amp;widgetType=HTML&amp;widgetId=HTML1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;HTML1&quot;));" target="configHTML1" title="Edit">
<img alt="" height="18" src="./Secrets of Arduino PWM_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div><div class="widget LinkList" data-version="1" id="LinkList1">
<h2>Quick links</h2>
<div class="widget-content">
<ul>
<li><a href="http://www.arcfn.com/2009/08/multi-protocol-infrared-remote-library.html">Arduino IR library</a></li>
<li><a href="http://www.righto.com/2013/01/a-small-part-of-6502-chip-explained.html">6502 reverse-engineering</a></li>
</ul>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6264947694886887540&amp;widgetType=LinkList&amp;widgetId=LinkList1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;LinkList1&quot;));" target="configLinkList1" title="Edit">
<img alt="" height="18" src="./Secrets of Arduino PWM_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div></div>
</aside>
</div>
</div>
</div>
<div style="clear: both"></div>
<!-- columns -->
</div>
<!-- main -->
</div>
</div>
<div class="main-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<footer>
<div class="footer-outer">
<div class="footer-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left footer-fauxborder-left">
<div class="fauxborder-right footer-fauxborder-right"></div>
<div class="region-inner footer-inner">
<div class="foot section" id="footer-1"></div>
<table border="0" cellpadding="0" cellspacing="0" class="section-columns columns-2">
<tbody>
<tr>
<td class="first columns-cell">
<div class="foot section" id="footer-2-1"></div>
</td>
<td class="columns-cell">
<div class="foot section" id="footer-2-2"></div>
</td>
</tr>
</tbody>
</table>
<!-- outside of the include in order to lock Attribution widget -->
<div class="foot section" id="footer-3"><div class="widget Attribution" data-version="1" id="Attribution1">
<div class="widget-content" style="text-align: center;">
Simple template. Powered by <a href="https://www.blogger.com/" target="_blank">Blogger</a>.
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=6264947694886887540&amp;widgetType=Attribution&amp;widgetId=Attribution1&amp;action=editWidget&amp;sectionId=footer-3" onclick="return _WidgetManager._PopupConfig(document.getElementById(&quot;Attribution1&quot;));" target="configAttribution1" title="Edit">
<img alt="" height="18" src="./Secrets of Arduino PWM_files/icon18_wrench_allbkg.png" width="18">
</a>
</span>
</span>
<div class="clear"></div>
</div></div>
</div>
</div>
<div class="footer-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</footer>
<!-- content -->
</div>
</div>
<div class="content-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<script type="text/javascript">
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>
<script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('widgetJsBefore');
</script><script type="text/javascript" src="./Secrets of Arduino PWM_files/2129857996-widgets.js"></script>
<script type="text/javascript" src="./Secrets of Arduino PWM_files/plusone.js" gapi_processed="true"></script>
<script type="text/javascript">
if (typeof(BLOG_attachCsiOnload) != 'undefined' && BLOG_attachCsiOnload != null) { window['blogger_templates_experiment_id'] = "templatesV2";window['blogger_blog_id'] = '6264947694886887540';BLOG_attachCsiOnload('item_'); }_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d6264947694886887540','//www.righto.com/2009/07/secrets-of-arduino-pwm.html','6264947694886887540');
_WidgetManager._SetDataContext([{'name': 'options', 'data': {}}, {'name': 'blog', 'data': {'blogId': '6264947694886887540', 'bloggerUrl': 'https://www.blogger.com', 'title': 'Ken Shirriff\x27s blog', 'pageType': 'item', 'postId': '5409564808315467886', 'url': 'http://www.righto.com/2009/07/secrets-of-arduino-pwm.html', 'canonicalUrl': 'http://www.righto.com/2009/07/secrets-of-arduino-pwm.html', 'homepageUrl': 'http://www.righto.com/', 'canonicalHomepageUrl': 'http://www.righto.com/', 'blogspotFaviconUrl': 'http://www.righto.com/favicon.ico', 'enabledCommentProfileImages': true, 'adultContent': false, 'analyticsAccountNumber': 'UA-3782444-1', 'useUniversalAnalytics': false, 'pageName': 'Secrets of Arduino PWM', 'pageTitle': 'Ken Shirriff\x27s blog: Secrets of Arduino PWM', 'encoding': 'UTF-8', 'locale': 'en', 'localeUnderscoreDelimited': 'en', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'languageDirection': 'ltr', 'feedLinks': '\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Ken Shirriff\x26#39;s blog - Atom\x22 href\x3d\x22http://www.righto.com/feeds/posts/default\x22 /\x3e\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/rss+xml\x22 title\x3d\x22Ken Shirriff\x26#39;s blog - RSS\x22 href\x3d\x22http://www.righto.com/feeds/posts/default?alt\x3drss\x22 /\x3e\n\x3clink rel\x3d\x22service.post\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Ken Shirriff\x26#39;s blog - Atom\x22 href\x3d\x22https://www.blogger.com/feeds/6264947694886887540/posts/default\x22 /\x3e\n\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Ken Shirriff\x26#39;s blog - Atom\x22 href\x3d\x22http://www.righto.com/feeds/5409564808315467886/comments/default\x22 /\x3e\n', 'meTag': '', 'openIdOpTag': '', 'postImageUrl': 'http://arcfn.com/images/pwm1.gif', 'latencyHeadScript': '\x3cscript type\x3d\x22text/javascript\x22\x3e(function() { (function(){function c(a){this.t\x3d{};this.tick\x3dfunction(a,c,b){var d\x3dvoid 0!\x3db?b:(new Date).getTime();this.t[a]\x3d[d,c];if(void 0\x3d\x3db)try{window.console.timeStamp(\x22CSI/\x22+a)}catch(e){}};this.tick(\x22start\x22,null,a)}var a;window.performance\x26\x26(a\x3dwindow.performance.timing);var h\x3da?new c(a.responseStart):new c;window.jstiming\x3d{Timer:c,load:h};if(a){var b\x3da.navigationStart,e\x3da.responseStart;0\x3cb\x26\x26e\x3e\x3db\x26\x26(window.jstiming.srt\x3de-b)}if(a){var d\x3dwindow.jstiming.load;0\x3cb\x26\x26e\x3e\x3db\x26\x26(d.tick(\x22_wtsrt\x22,void 0,b),d.tick(\x22wtsrt_\x22,\n\x22_wtsrt\x22,e),d.tick(\x22tbsd_\x22,\x22wtsrt_\x22))}try{a\x3dnull,window.chrome\x26\x26window.chrome.csi\x26\x26(a\x3dMath.floor(window.chrome.csi().pageT),d\x26\x260\x3cb\x26\x26(d.tick(\x22_tbnd\x22,void 0,window.chrome.csi().startE),d.tick(\x22tbnd_\x22,\x22_tbnd\x22,b))),null\x3d\x3da\x26\x26window.gtbExternal\x26\x26(a\x3dwindow.gtbExternal.pageT()),null\x3d\x3da\x26\x26window.external\x26\x26(a\x3dwindow.external.pageT,d\x26\x260\x3cb\x26\x26(d.tick(\x22_tbnd\x22,void 0,window.external.startE),d.tick(\x22tbnd_\x22,\x22_tbnd\x22,b))),a\x26\x26(window.jstiming.pt\x3da)}catch(k){}})();window.tickAboveFold\x3dfunction(c){var a\x3d0;if(c.offsetParent){do a+\x3dc.offsetTop;while(c\x3dc.offsetParent)}c\x3da;750\x3e\x3dc\x26\x26window.jstiming.load.tick(\x22aft\x22)};var f\x3d!1;function g(){f||(f\x3d!0,window.jstiming.load.tick(\x22firstScrollTime\x22))}window.addEventListener?window.addEventListener(\x22scroll\x22,g,!1):window.attachEvent(\x22onscroll\x22,g);\n })();\x3c/script\x3e', 'mobileHeadScript': '', 'adsenseClientId': 'pub-0159785530845184', 'adsenseHostId': 'ca-host-pub-1556223355139109', 'ieCssRetrofitLinks': '\x3c!--[if IE]\x3e\x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22https://www.blogger.com/static/v1/jsbin/1491713228-ieretrofit.js\x22\x3e\x3c/script\x3e\n\x3c![endif]--\x3e', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/7f2e3ee2033f134d', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'sf': 'n', 'tf': ''}}, {'name': 'features', 'data': {'openGraphMetadata': true, 'widgetVisibility': true}}, {'name': 'messages', 'data': {'adsGoHere': 'Ads go here', 'archive': 'Archive', 'authorSaid': '%1 said...', 'authorSaidWithLink': '\x3ca href\x3d\x22%2\x22 rel\x3d\x22nofollow\x22\x3e%1\x3c/a\x3e said...', 'blogArchive': 'Blog Archive', 'by': 'By', 'byAuthor': 'By %1', 'byAuthorLink': 'By \x3ca href\x3d\x22%2\x22\x3e%1\x3c/a\x3e', 'configurationRequired': 'Configuration required', 'deleteBacklink': 'Delete Backlink', 'deleteComment': 'Delete Comment', 'edit': 'Edit', 'emailAddress': 'Email Address', 'getEmailNotifications': 'Get email notifications', 'hidden': 'Hidden', 'keepReading': 'Keep reading', 'labels': 'Labels', 'loadMorePosts': 'Load more posts', 'loading': 'Loading...', 'myBlogList': 'My Blog List', 'myFavoriteSites': 'My favorite sites', 'newer': 'Newer', 'newerPosts': 'Newer Posts', 'newest': 'Newest', 'noResultsFound': 'No results found', 'noTitle': 'No title', 'numberOfComments': '{numComments, plural, \x3d0 {No comments} \x3d1 {1 comment} other {# comments}}', 'older': 'Older', 'olderPosts': 'Older Posts', 'oldest': 'Oldest', 'onlyTeamMembersCanComment': 'Note: Only a member of this blog may post a comment.', 'popularPosts': 'Popular Posts', 'popularPostsFromThisBlog': 'Popular posts from this blog', 'postAComment': 'Post a Comment', 'postedBy': 'Posted by', 'postedByAuthor': 'Posted by %1', 'postedByAuthorLink': 'Posted by \x3ca href\x3d\x22%2\x22\x3e%1\x3c/a\x3e', 'readMore': 'Read more', 'reportAbuse': 'Report Abuse', 'search': 'Search', 'searchBlog': 'Search blog', 'share': 'Share', 'showAll': 'Show all', 'showLess': 'Show less', 'showMore': 'Show more', 'someOfMyFavoriteSites': 'Some of my favorite sites', 'subscribe': 'Subscribe', 'subscribeTo': 'Subscribe to:', 'subscribeToThisBlog': 'Subscribe to this blog', 'theresNothingHere': 'There\x27s nothing here!', 'viewAll': 'View all', 'visible': 'Visible', 'visitProfile': 'Visit profile', 'widgetNotAvailableInPreview': 'This content is not available in blog preview.', 'widgetNotAvailableOnHttps': 'This content is not yet available over encrypted connections.'}}, {'name': 'skin', 'data': {'vars': {'post_footer_background_color': '#f9f9f9', 'tabs_text_color': '#999999', 'date_header_letterspacing': 'inherit', 'content_shadow_spread': '40px', 'body_background_override': '', 'body_background': '#f6fbf6 none repeat scroll top left', 'description_text_size': '140%', 'mobile_background_size': 'auto', 'header_shadow_spread': '3px', 'image_border_color': '#ffffff', 'date_header_color': 'transparent', 'header_shadow_offset_top': '2px', 'header_border_horizontalsize': '0', 'widget_title_font': 'normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'tabs_border_color': '#eeeeee', 'tabs_bevel_border_width': '1px', 'body_background_gradient_tile': 'url(//www.blogblog.com/1kt/simple/body_gradient_tile_light.png)', 'description_text_color': '#666666', 'main_section_margin': '15px', 'post_title_font': 'normal normal 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'page_width': 'auto', 'paging_background': 'transparent none no-repeat scroll top center', 'body_text_color': '#222222', 'content_padding': '10px', 'header_background_gradient': 'url(//www.blogblog.com/1kt/simple/gradients_light.png)', 'post_margin_bottom': '25px', 'header_shadow_offset_left': '1px', 'tabs_background_color': '#f5f5f5', 'content_background_color': '#ffffff', 'body_background_gradient_cap': 'url(//www.blogblog.com/1kt/simple/gradients_light.png)', 'main_padding_top': '30px', 'widget_alternate_text_color': '#999999', 'image_text_color': '#222222', 'link_visited_color': '#121fb3', 'tabs_margin_side': '30px', 'image_border_large_size': '5px', 'content_shadow_spread_webkit': '5px', 'mobile_button_color': '#ffffff', 'tabs_selected_text_color': '#000000', 'main_border_width': '0', 'content_background_color_selector': '.content-inner', 'link_color': '#121fb3', 'post_footer_border_color': '#eeeeee', 'date_header_font': 'normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'tabs_background_gradient': 'url(//www.blogblog.com/1kt/simple/gradients_light.png)', 'content_padding_horizontal': '10px', 'header_font': 'normal normal 42px Play', 'startSide': 'left', 'tabs_font': 'normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'widget_title_text_color': '#000000', 'header_border_size': '0', 'tabs_selected_background_color': '#eeeeee', 'date_header_margin': 'inherit', 'footer_bevel': '0', 'image_border_small_size': '2px', 'content_shadow_spread_ie': '10px', 'mobile_background_overlay': 'transparent none repeat scroll top left', 'endSide': 'right', 'date_header_padding': 'inherit', 'image_background_color': '#ffffff', 'body_rule_color': '#eeeeee', 'header_bottom_border_size': '0', 'page_width_selector': '.region-inner', 'body_background_color': '#f6fbf6', 'header_text_color': '#666666', 'main_padding': '15px', 'date_header_background_color': 'transparent', 'tabs_border_width': '1px', 'body_font': 'normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif', 'link_hover_color': '#1a00ff', 'header_background_color': '#f6fbf7', 'keycolor': '#1119cc', 'main_padding_bottom': '30px', 'post_footer_text_color': '#666666', 'tabs_margin_top': '0', 'header_padding': '30px'}, 'override': '.content-outer {\n  max-width: 1400px !important;\n}\n\n/* fix header */\n#header-inner {\n  width: 100% !important;\n  background-position: right !important;\n}\n.titlewrapper {\n  padding: 11px 30px 0 !important;\n}\n.descriptionwrapper {\n  margin-bottom: 0 !important;\n}\n.description {\n  font-size: 120% !important;\n}\n\n/* suppress things */\n\n.date-header {\n  display: none;\n}\n#Attribution1 {\n  display: none;\n}\n.post-author, .post-timestamp, .reaction-buttons  {\n  display: none;\n}\n\n/* h2: sidebar titles */\n/* h3: post title */\n\n.post-title , .entry-title {\n  font-size: 180% !important;\n  margin-top: 0 !important;\n}\n\n.entry-title a:link, .entry-title a:visited, .entry-title a:active{\n  color: #a03;\n}\n#main h2 {\ncolor:#333;\nmargin-bottom:.4em;\nmargin-top: 13px;\nfont-size:140%;\n}\n#main h3 {\ncolor:#333;\nmargin-bottom:.4em;\nmargin-top: 13px;\nfont-size:110%;\n}\n#main h4 {\ncolor:#333;\nmargin-bottom:.5em;\n}\n#sidebar-right-1 a:link, #sidebar-right-1 a:visited, #sidebar-right-1 a:active {\n  color: #666;\n}\n#sidebar-right-1 h2 {\n  font-size: 100%;\n  color: #666;\n}\n\n/* disable image box */\nelement.style {\n}\ntable.chargers img {\nheight: 18px;\n}\ntable.chargers img {\nheight: 18px;\n}\n.post-body img, .post-body .tr-caption-container {\npadding: 5px;\n}\n.post-body img, .post-body .tr-caption-container, .Profile img, .Image img, .BlogList .item-thumbnail img {\npadding: 0;\nbackground: #ffffff;\nborder: none;\n-moz-box-shadow: none;\n-webkit-box-shadow: none;\nbox-shadow: none;\n}\n\n/* Special items */\n\na:link img.hilite, a:visited img.hilite {\ncolor: #888;\n}\na:hover img.hilite, a:hover img.hilite2 {\ncolor: #f66;\n}\na:active img.hilite {\ncolor: #33c;\n}\n\npre {color:#000000;border:1px solid #000000;}\npre.repl { background-color:#e0e0f0; font-size:120%;}\npre.arc { background-color:#e0e0f0; font-size:120%;}\npre.code { background-color:#e0f0e0; font-size:120%; white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;text-wrap:unrestricted;}\ncode { font-size: 120%;}\nblockquote { font-size: 110%; background: transparent url(\x22/images/blockquote.gif\x22) no-repeat 0 0; margin: 20px 0px; padding: 0px 40px;}\ndiv.cite {font-size: .8em;.; font-style: italic; color: #888; margin-bottom: 9px;}\na.ref { color: gray;vertical-align: super; text-decoration: none; font-size:60%;margin-left: 2px;}\na img.hilite {\nborder: 1px solid;\ncolor: #888;\nz-index: 2;\n}\na img.hilite2, a:active img.hilite2 {\nborder: 1px solid;\ncolor: #f6fbf6;\n}\n\ntable.chargers {\nborder-width: 1px;\nborder-spacing: 2px;\nborder-style: outset;\nborder-color: gray;\nborder-collapse: collapse;\nbackground-color: white;\n}\ntable.chargers th.maker {\npadding-right: 5px;\ntext-align: right;\n}\ntable.chargers th {\nborder-width: 1px;\npadding: 3px;\nborder-style: inset;\nborder-color: gray;\nbackground-color: white;\ntext-align: center;\n}\ntable.chargers img {\nheight: 18px;\n}\ntable.chargers td {\ntext-align: center;\nborder-width: 1px;\npadding: 2px 8px;\nborder-style: inset;\nborder-color: gray;\nbackground-color: white;\n}'}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\x3dclassic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\x3dflipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\x3dmagazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\x3dmosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\x3dsidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\x3dsnapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\x3dtimeslide'}, 'title': 'Secrets of Arduino PWM', 'description': 'Pulse-width modulation (PWM) can be implemented on the Arduino in several ways.  This article explains simple PWM techniques, as well as how...', 'featuredImage': 'http://arcfn.com/images/pwm1.gif'}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', null, document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', null, document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', null, document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'showBacklinks': true, 'postId': '5409564808315467886'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_PopularPostsView', new _WidgetInfo('PopularPosts1', 'sidebar-right-1', null, document.getElementById('PopularPosts1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_LabelView', new _WidgetInfo('Label1', 'sidebar-right-1', null, document.getElementById('Label1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AdSenseView', new _WidgetInfo('AdSense1', 'sidebar-right-1', null, document.getElementById('AdSense1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_LinkListView', new _WidgetInfo('LinkList2', 'sidebar-right-1', null, document.getElementById('LinkList2'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HTMLView', new _WidgetInfo('HTML2', 'sidebar-right-1', null, document.getElementById('HTML2'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', null, document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': 'Loading...'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HTMLView', new _WidgetInfo('HTML1', 'sidebar-right-1', null, document.getElementById('HTML1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_LinkListView', new _WidgetInfo('LinkList1', 'sidebar-right-1', null, document.getElementById('LinkList1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', null, document.getElementById('Attribution1'), {'attribution': 'Simple template. Powered by \x3ca href\x3d\x27https://www.blogger.com\x27 target\x3d\x27_blank\x27\x3eBlogger\x3c/a\x3e.'}, 'displayModeFull'));
</script>

<iframe name="oauth2relay454180365" id="oauth2relay454180365" src="./Secrets of Arduino PWM_files/postmessageRelay.html" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe></body></html>